{"abi":[{"type":"constructor","inputs":[{"name":"initialOwner","type":"address","internalType":"address"},{"name":"initialOracle","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"REFERRAL_ROOT","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"authorizeOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"batchRegister","inputs":[{"name":"users","type":"address[]","internalType":"address[]"},{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAncestors","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"},{"name":"maxLevels","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getAuthorizedOracles","inputs":[],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getChildren","inputs":[{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getReferrer","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isAuthorizedOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isRegistered","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"register","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"unauthorizeOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"OracleAuthorized","inputs":[{"name":"oracle","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OracleUnauthorized","inputs":[{"name":"oracle","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UserRegistered","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"referrer","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"InvalidOracleAddress","inputs":[]},{"type":"error","name":"InvalidReferrerAddress","inputs":[]},{"type":"error","name":"InvalidUserAddress","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"ReferrerNotInTree","inputs":[]},{"type":"error","name":"SelfReferralNotAllowed","inputs":[]},{"type":"error","name":"UnauthorizedOracle","inputs":[]},{"type":"error","name":"UserAlreadyRegistered","inputs":[]}],"bytecode":{"object":"0x6080346101a157601f610d4e38819003918201601f19168301916001600160401b0383118484101761017a5780849260409485528339810103126101a157610052602061004b836101a5565b92016101a5565b6001600160a01b0390911690811561018e575f80546001600160a01b031981168417825560405193916001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a36001600160a01b0316806100c7575b50610b9490816101ba8239f35b805f52600360205260405f20600160ff198254161790556004546801000000000000000081101561017a5760018101806004558110156101665760045f9081527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b9190910180546001600160a01b031916831790557f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b79080a25f6100ba565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52604160045260245ffd5b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b51906001600160a01b03821682036101a15756fe60806040526004361015610011575f80fd5b5f3560e01c80630f13b7631461064e578063622be01c146105a257806366695b1e1461051b57806369b15fce146104c65780636e138c8414610449578063715018a6146103f257806376bba3be1461028d57806377ccfd4b146102435780638da5cb5b1461021c578063ba59475114610201578063bfe609da146101c4578063d65ad69414610178578063e96dc26a1461013c5763f2fde38b146100b3575f80fd5b34610138576020366003190112610138576100cc61071c565b6100d461096d565b6001600160a01b03168015610125575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b346101385760603660031901126101385761017461016861015b61071c565b604435906024359061084b565b60405191829182610748565b0390f35b346101385760403660031901126101385761019161071c565b6024355f9081526001602090815260408083206001600160a01b0394851684528252918290205491519190921615158152f35b34610138576020366003190112610138576001600160a01b036101e561071c565b165f526003602052602060ff60405f2054166040519015158152f35b34610138575f36600319011261013857602060405160018152f35b34610138575f366003190112610138575f546040516001600160a01b039091168152602090f35b346101385760403660031901126101385761025c61071c565b6024355f9081526001602090815260408083206001600160a01b039485168452825291829020549151919092168152f35b34610138576020366003190112610138576102a661071c565b6102ae61096d565b6001600160a01b03165f8181526003602052604090205460ff166102ce57005b5f818152600360205260408120805460ff191690555b60045490818110156103eb57826102fa8261078a565b905460039190911b1c6001600160a01b03161461031b5760019150016102e4565b5f1982019182116103d75761034d6103356103719361078a565b905460039190911b1c6001600160a01b03169161078a565b81546001600160a01b0393841660039290921b91821b9390911b1916919091179055565b60045480156103c3575f19016103868161078a565b81549060018060a01b039060031b1b191690556004555b7fdd4fdcea7474ec44ed60a0e33a8b3e1a80b4002026a6bc5b8e6e97bd883641335f80a2005b634e487b7160e01b5f52603160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b505061039d565b34610138575f3660031901126101385761040a61096d565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b34610138575f3660031901126101385760405180602060045491828152019060045f527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b905f5b8181106104a75761017485610168818703826107cb565b82546001600160a01b0316845260209093019260019283019201610490565b34610138576060366003190112610138576104df61071c565b6104e7610732565b90335f52600360205260ff60405f2054161561050c5761050a9160443591610993565b005b63db8d1fb760e01b5f5260045ffd5b346101385760403660031901126101385761053461071c565b6024355f52600260205260405f209060018060a01b03165f5260205260405f206040519081602082549182815201915f5260205f20905f5b8181106105835761017485610168818703826107cb565b82546001600160a01b031684526020909301926001928301920161056c565b346101385760603660031901126101385760043567ffffffffffffffff8111610138573660238201121561013857806004013567ffffffffffffffff8111610138573660248260051b84010111610138576105fb610732565b9160443590335f52600360205260ff60405f2054161561050c575f5b8381101561050a57600581901b820160240135906001600160a01b0382168203610138576106488487600194610993565b01610617565b346101385760203660031901126101385761066761071c565b61066f61096d565b6001600160a01b03811690811561070d57815f52600360205260ff60405f2054161561069757005b815f52600360205260405f20600160ff1982541617905560045490600160401b8210156106f95761034d8260016106d3940160045560046107b6565b7f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b75f80a2005b634e487b7160e01b5f52604160045260245ffd5b635521068160e01b5f5260045ffd5b600435906001600160a01b038216820361013857565b602435906001600160a01b038216820361013857565b60206040818301928281528451809452019201905f5b81811061076b5750505090565b82516001600160a01b031684526020938401939092019160010161075e565b6004548110156107a25760045f5260205f2001905f90565b634e487b7160e01b5f52603260045260245ffd5b80548210156107a2575f5260205f2001905f90565b90601f8019910116810190811067ffffffffffffffff8211176106f957604052565b67ffffffffffffffff81116106f95760051b60200190565b9061080f826107ed565b61081c60405191826107cb565b828152809261082d601f19916107ed565b0190602036910137565b80518210156107a25760209160051b010190565b6001600160a01b03169283158015610963575b6109475761086b83610805565b905f94835f52600160205260405f20905f5260205260405f2060018060a01b039054165b6001600160a01b03168015158061093c575b80610933575b156108eb57806108b78785610837565b525f84815260016020908152604080832093835292905220546001600160a01b0316945f1981146103d7576001019461088f565b5092509290506108fa81610805565b905f5b81811061090b575090925050565b6001906001600160a01b036109208288610837565b511661092c8286610837565b52016108fd565b508486106108a7565b5060018114156108a1565b925050506040516109596020826107cb565b5f81525f36813790565b506001841461085e565b5f546001600160a01b0316330361098057565b63118cdaa760e01b5f523360045260245ffd5b90916001600160a01b03821691908215610ad1576001600160a01b038416938415610ac257838514610ab3575f8281526001602090815260408083208784529091529020546001600160a01b0316610aa4578160018614159182610a92575b5050610a8357805f52600160205260405f20835f5260205260405f20846bffffffffffffffffffffffff60a01b8254161790555f52600260205260405f20835f5260205260405f2090815491600160401b8310156106f9578261034d916001610a5d950181556107b6565b7f2138b9314634f9fdd5e49bee3eaf17ca557b6637524d0db759711c3bfcd3d8505f80a3565b63d0ceadb160e01b5f5260045ffd5b610a9c9250610ae0565b15815f6109f2565b634f2532fb60e11b5f5260045ffd5b6341a31fa560e11b5f5260045ffd5b630552cfb760e11b5f5260045ffd5b630702b3d960e41b5f5260045ffd5b6001600160a01b03811660011480610b56575b610b4f575f8281526001602090815260408083206001600160a01b038581168552925290912054161580159290610b2957505090565b9091505f52600260205260405f209060018060a01b03165f5260205260405f2054151590565b5050600190565b506001610af356fea2646970667358221220a40f3f15b304d05870cb83d9248bae7e5a097184338c15fd541559a733d6092f64736f6c634300081a0033","sourceMap":"286:7285:33:-:0;;;;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;-1:-1:-1;;;;;286:7285:33;;;;1273:26:19;;1269:95;;-1:-1:-1;286:7285:33;;-1:-1:-1;;;;;;286:7285:33;;;;;;;;;;-1:-1:-1;;;;;286:7285:33;;;;3052:40:19;;-1:-1:-1;3052:40:19;-1:-1:-1;;;;;286:7285:33;;1362:204;;-1:-1:-1;286:7285:33;;;;;;;;1362:204;286:7285;-1:-1:-1;286:7285:33;1409:18;286:7285;;;-1:-1:-1;286:7285:33;1445:4;286:7285;;;;;;;;1463:22;286:7285;;;;;;;1445:4;286:7285;;;1463:22;286:7285;;;;;;1463:22;-1:-1:-1;286:7285:33;;;;;;;;;;-1:-1:-1;;;;;;286:7285:33;;;;;1524:31;;-1:-1:-1;1524:31:33;1362:204;;;286:7285;;;;-1:-1:-1;286:7285:33;;1463:22;286:7285;;-1:-1:-1;286:7285:33;;;;;-1:-1:-1;286:7285:33;;1463:22;286:7285;;-1:-1:-1;286:7285:33;1269:95:19;1322:31;;;-1:-1:-1;1322:31:19;-1:-1:-1;1322:31:19;286:7285:33;;-1:-1:-1;1322:31:19;286:7285:33;-1:-1:-1;286:7285:33;;;;;-1:-1:-1;;;;;286:7285:33;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f3560e01c80630f13b7631461064e578063622be01c146105a257806366695b1e1461051b57806369b15fce146104c65780636e138c8414610449578063715018a6146103f257806376bba3be1461028d57806377ccfd4b146102435780638da5cb5b1461021c578063ba59475114610201578063bfe609da146101c4578063d65ad69414610178578063e96dc26a1461013c5763f2fde38b146100b3575f80fd5b34610138576020366003190112610138576100cc61071c565b6100d461096d565b6001600160a01b03168015610125575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b346101385760603660031901126101385761017461016861015b61071c565b604435906024359061084b565b60405191829182610748565b0390f35b346101385760403660031901126101385761019161071c565b6024355f9081526001602090815260408083206001600160a01b0394851684528252918290205491519190921615158152f35b34610138576020366003190112610138576001600160a01b036101e561071c565b165f526003602052602060ff60405f2054166040519015158152f35b34610138575f36600319011261013857602060405160018152f35b34610138575f366003190112610138575f546040516001600160a01b039091168152602090f35b346101385760403660031901126101385761025c61071c565b6024355f9081526001602090815260408083206001600160a01b039485168452825291829020549151919092168152f35b34610138576020366003190112610138576102a661071c565b6102ae61096d565b6001600160a01b03165f8181526003602052604090205460ff166102ce57005b5f818152600360205260408120805460ff191690555b60045490818110156103eb57826102fa8261078a565b905460039190911b1c6001600160a01b03161461031b5760019150016102e4565b5f1982019182116103d75761034d6103356103719361078a565b905460039190911b1c6001600160a01b03169161078a565b81546001600160a01b0393841660039290921b91821b9390911b1916919091179055565b60045480156103c3575f19016103868161078a565b81549060018060a01b039060031b1b191690556004555b7fdd4fdcea7474ec44ed60a0e33a8b3e1a80b4002026a6bc5b8e6e97bd883641335f80a2005b634e487b7160e01b5f52603160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b505061039d565b34610138575f3660031901126101385761040a61096d565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b34610138575f3660031901126101385760405180602060045491828152019060045f527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b905f5b8181106104a75761017485610168818703826107cb565b82546001600160a01b0316845260209093019260019283019201610490565b34610138576060366003190112610138576104df61071c565b6104e7610732565b90335f52600360205260ff60405f2054161561050c5761050a9160443591610993565b005b63db8d1fb760e01b5f5260045ffd5b346101385760403660031901126101385761053461071c565b6024355f52600260205260405f209060018060a01b03165f5260205260405f206040519081602082549182815201915f5260205f20905f5b8181106105835761017485610168818703826107cb565b82546001600160a01b031684526020909301926001928301920161056c565b346101385760603660031901126101385760043567ffffffffffffffff8111610138573660238201121561013857806004013567ffffffffffffffff8111610138573660248260051b84010111610138576105fb610732565b9160443590335f52600360205260ff60405f2054161561050c575f5b8381101561050a57600581901b820160240135906001600160a01b0382168203610138576106488487600194610993565b01610617565b346101385760203660031901126101385761066761071c565b61066f61096d565b6001600160a01b03811690811561070d57815f52600360205260ff60405f2054161561069757005b815f52600360205260405f20600160ff1982541617905560045490600160401b8210156106f95761034d8260016106d3940160045560046107b6565b7f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b75f80a2005b634e487b7160e01b5f52604160045260245ffd5b635521068160e01b5f5260045ffd5b600435906001600160a01b038216820361013857565b602435906001600160a01b038216820361013857565b60206040818301928281528451809452019201905f5b81811061076b5750505090565b82516001600160a01b031684526020938401939092019160010161075e565b6004548110156107a25760045f5260205f2001905f90565b634e487b7160e01b5f52603260045260245ffd5b80548210156107a2575f5260205f2001905f90565b90601f8019910116810190811067ffffffffffffffff8211176106f957604052565b67ffffffffffffffff81116106f95760051b60200190565b9061080f826107ed565b61081c60405191826107cb565b828152809261082d601f19916107ed565b0190602036910137565b80518210156107a25760209160051b010190565b6001600160a01b03169283158015610963575b6109475761086b83610805565b905f94835f52600160205260405f20905f5260205260405f2060018060a01b039054165b6001600160a01b03168015158061093c575b80610933575b156108eb57806108b78785610837565b525f84815260016020908152604080832093835292905220546001600160a01b0316945f1981146103d7576001019461088f565b5092509290506108fa81610805565b905f5b81811061090b575090925050565b6001906001600160a01b036109208288610837565b511661092c8286610837565b52016108fd565b508486106108a7565b5060018114156108a1565b925050506040516109596020826107cb565b5f81525f36813790565b506001841461085e565b5f546001600160a01b0316330361098057565b63118cdaa760e01b5f523360045260245ffd5b90916001600160a01b03821691908215610ad1576001600160a01b038416938415610ac257838514610ab3575f8281526001602090815260408083208784529091529020546001600160a01b0316610aa4578160018614159182610a92575b5050610a8357805f52600160205260405f20835f5260205260405f20846bffffffffffffffffffffffff60a01b8254161790555f52600260205260405f20835f5260205260405f2090815491600160401b8310156106f9578261034d916001610a5d950181556107b6565b7f2138b9314634f9fdd5e49bee3eaf17ca557b6637524d0db759711c3bfcd3d8505f80a3565b63d0ceadb160e01b5f5260045ffd5b610a9c9250610ae0565b15815f6109f2565b634f2532fb60e11b5f5260045ffd5b6341a31fa560e11b5f5260045ffd5b630552cfb760e11b5f5260045ffd5b630702b3d960e41b5f5260045ffd5b6001600160a01b03811660011480610b56575b610b4f575f8281526001602090815260408083206001600160a01b038581168552925290912054161580159290610b2957505090565b9091505f52600260205260405f209060018060a01b03165f5260205260405f2054151590565b5050600190565b506001610af356fea2646970667358221220a40f3f15b304d05870cb83d9248bae7e5a097184338c15fd541559a733d6092f64736f6c634300081a0033","sourceMap":"286:7285:33:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;:::i;:::-;1500:62:19;;:::i;:::-;-1:-1:-1;;;;;286:7285:33;2627:22:19;;2623:91;;286:7285:33;;;-1:-1:-1;;;;;;286:7285:33;;;;;;-1:-1:-1;;;;;286:7285:33;;3052:40:19;;286:7285:33;3052:40:19;286:7285:33;2623:91:19;2672:31;;;286:7285:33;2672:31:19;286:7285:33;;;;;2672:31:19;286:7285:33;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;:::i;:::-;;;;;;;;;;;;;;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;;;;;1869:39;;286:7285;;;;;;;;;-1:-1:-1;;286:7285:33;;;;-1:-1:-1;;;;;286:7285:33;;:::i;:::-;;;;7376:18;286:7285;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;;466:42;286:7285;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;:::i;:::-;;;;;;;;;;;;;;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;:::i;:::-;1500:62:19;;:::i;:::-;-1:-1:-1;;;;;286:7285:33;;;;;6724:18;286:7285;;;;;;;;6720:519;;286:7285;6720:519;286:7285;;;;6724:18;286:7285;;;;;;;-1:-1:-1;;286:7285:33;;;6902:3;286:7285;;6867:33;;;;;;;6929:25;;;;:::i;:::-;286:7285;;6724:18;286:7285;;;;;-1:-1:-1;;;;;286:7285:33;6929:35;6925:244;;286:7285;6902:3;;286:7285;6852:13;;6925:244;-1:-1:-1;;286:7285:33;;;;;;;6988:25;7016:57;6988:85;7016:57;;:::i;:::-;286:7285;;6724:18;286:7285;;;;;-1:-1:-1;;;;;286:7285:33;;6988:25;:::i;:::-;286:7285;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;;;6988:85;286:7285;;;;;;-1:-1:-1;;286:7285:33;;;;:::i;:::-;;;;;;;;;;6724:18;286:7285;;;;;;;;6847:336;7202:26;286:7285;7202:26;;286:7285;;;;;;;;;;;;;;;;;;;;;;;;;6867:33;;;;;286:7285;;;;;;-1:-1:-1;;286:7285:33;;;;1500:62:19;;:::i;:::-;286:7285:33;;;-1:-1:-1;;;;;;286:7285:33;;;;-1:-1:-1;;;;;286:7285:33;3052:40:19;286:7285:33;;3052:40:19;286:7285:33;;;;;;;-1:-1:-1;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;:::i;:::-;;;:::i;:::-;5514:10;;286:7285;;5495:18;286:7285;;;;;;;;5494:31;5490:89;;5770:7;286:7285;;;5770:7;;:::i;:::-;286:7285;5490:89;5548:20;;;286:7285;5548:20;286:7285;;5548:20;286:7285;;;;;;-1:-1:-1;;286:7285:33;;;;;;:::i;:::-;;;;;2591:9;286:7285;;;;;2591:28;286:7285;;;;;;-1:-1:-1;286:7285:33;;;;-1:-1:-1;286:7285:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;5514:10;;286:7285;;5495:18;286:7285;;;;;;;;5494:31;5490:89;;286:7285;6168:3;6150:16;;;;;;286:7285;;;;;;;;;;-1:-1:-1;;;;;286:7285:33;;;;;;6217:7;;;286:7285;6217:7;;:::i;:::-;286:7285;6135:13;;286:7285;;;;;;-1:-1:-1;;286:7285:33;;;;;;:::i;:::-;1500:62:19;;:::i;:::-;-1:-1:-1;;;;;286:7285:33;;;6357:20;;6353:55;;286:7285;;;6423:18;286:7285;;;;;;;;6422:27;6418:183;;286:7285;6418:183;286:7285;;;6423:18;286:7285;;;;;6494:4;286:7285;;;;;;;;;;;-1:-1:-1;;;286:7285:33;;;;;;;6494:4;286:7285;;;;;;;:::i;:::-;6566:24;286:7285;6566:24;;286:7285;;;;;;;;;;;;;6353:55;6386:22;;;286:7285;6386:22;286:7285;;6386:22;286:7285;;;;-1:-1:-1;;;;;286:7285:33;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;286:7285:33;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;286:7285:33;;-1:-1:-1;286:7285:33;;;-1:-1:-1;286:7285:33;:::o;:::-;;;;;;;;;;;;;;;;;;;;-1:-1:-1;286:7285:33;;-1:-1:-1;286:7285:33;;;-1:-1:-1;286:7285:33;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;:::i;:::-;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;2910:801::-;-1:-1:-1;;;;;286:7285:33;;3037:18;;:43;;;;2910:801;3033:97;;3169:24;;;:::i;:::-;3203:17;3053:1;286:7285;;3053:1;286:7285;3248:10;286:7285;;;3053:1;286:7285;3248:25;3053:1;286:7285;;;;3053:1;286:7285;;;;;;;;;3284:203;-1:-1:-1;;;;;286:7285:33;3291:21;;;;:49;;3284:203;3291:70;;;3284:203;3291:70;;;3377:26;;;;;:::i;:::-;286:7285;3053:1;286:7285;;;3248:10;286:7285;;;;;;;;;;;;;;;;-1:-1:-1;;;;;286:7285:33;;-1:-1:-1;;286:7285:33;;;;3248:10;286:7285;3284:203;;;3291:70;;;;;;;3566:20;;;:::i;:::-;3601:13;3053:1;3616:9;;;;;;-1:-1:-1;3691:13:33;;-1:-1:-1;;2910:801:33:o;3627:3::-;3248:10;;-1:-1:-1;;;;;3658:12:33;286:7285;3658:12;;:::i;:::-;286:7285;;3646:24;;;;:::i;:::-;286:7285;;3601:13;;3291:70;3344:17;;;;3291:70;;:49;3316:24;3248:10;3316:24;;;3291:49;;3033:97;286:7285;;;;;;;;;;:::i;:::-;3053:1;286:7285;;3053:1;286:7285;;;3096:23;:::o;3037:43::-;3059:21;466:42;3059:21;;3037:43;;1796:162:19;1710:6;286:7285:33;-1:-1:-1;;;;;286:7285:33;735:10:25;1855:23:19;1851:101;;1796:162::o;1851:101::-;1901:40;;;1710:6;1901:40;735:10:25;1901:40:19;286:7285:33;;1710:6:19;1901:40;4575:793:33;;;-1:-1:-1;;;;;286:7285:33;;;4575:793;4666:18;;4662:51;;-1:-1:-1;;;;;286:7285:33;;;4727:22;;4723:59;;4796:16;;;4792:53;;4682:1;286:7285;;;4859:10;286:7285;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;286:7285:33;4855:75;;5101:25;4859:10;5101:25;;;:66;;;;4575:793;5097:123;;;;286:7285;4682:1;286:7285;4859:10;286:7285;;;4682:1;286:7285;;-1:-1:-1;286:7285:33;;;;-1:-1:-1;286:7285:33;;;;;;;;;;;4682:1;286:7285;5276:9;286:7285;;;4682:1;286:7285;;-1:-1:-1;286:7285:33;;;;-1:-1:-1;286:7285:33;;;;;-1:-1:-1;;;286:7285:33;;;;;;;;4859:10;286:7285;;;;;;:::i;:::-;5331:30;4682:1;5331:30;;4575:793::o;5097:123::-;5190:19;;;4682:1;5190:19;;4682:1;5190:19;5101:66;5131:36;;;;:::i;:::-;5130:37;5101:66;;;;4855:75;4907:23;;;4682:1;4907:23;;4682:1;4907:23;4792:53;4821:24;;;4682:1;4821:24;;4682:1;4821:24;4723:59;4758:24;;;4682:1;4758:24;;4682:1;4758:24;4662:51;4693:20;;;4682:1;4693:20;;4682:1;4693:20;3966:407;-1:-1:-1;;;;;286:7285:33;;466:42;4123:21;;:52;;3966:407;4119:69;;286:7285;;;;466:42;286:7285;;;;;;;;-1:-1:-1;;;;;286:7285:33;;;;;;;;;;;;4288:39;;;;286:7285;4288:78;;4281:85;;3966:407;:::o;4288:78::-;286:7285;;;;;4331:9;286:7285;;;;;4331:24;286:7285;;;;;;-1:-1:-1;286:7285:33;;;;-1:-1:-1;286:7285:33;;4331:35;;3966:407;:::o;4119:69::-;4177:11;;466:42;4177:11;:::o;4123:52::-;;466:42;4123:52;","linkReferences":{}},"methodIdentifiers":{"REFERRAL_ROOT()":"ba594751","authorizeOracle(address)":"0f13b763","batchRegister(address[],address,bytes32)":"622be01c","getAncestors(address,bytes32,uint256)":"e96dc26a","getAuthorizedOracles()":"6e138c84","getChildren(address,bytes32)":"66695b1e","getReferrer(address,bytes32)":"77ccfd4b","isAuthorizedOracle(address)":"bfe609da","isRegistered(address,bytes32)":"d65ad694","owner()":"8da5cb5b","register(address,address,bytes32)":"69b15fce","renounceOwnership()":"715018a6","transferOwnership(address)":"f2fde38b","unauthorizeOracle(address)":"76bba3be"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"initialOwner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"initialOracle\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidOracleAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidReferrerAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidUserAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReferrerNotInTree\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SelfReferralNotAllowed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnauthorizedOracle\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UserAlreadyRegistered\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"OracleAuthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"OracleUnauthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"UserRegistered\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"REFERRAL_ROOT\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"authorizeOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"users\",\"type\":\"address[]\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"batchRegister\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"maxLevels\",\"type\":\"uint256\"}],\"name\":\"getAncestors\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAuthorizedOracles\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"getChildren\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"getReferrer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"isAuthorizedOracle\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"isRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"register\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"unauthorizeOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}]},\"kind\":\"dev\",\"methods\":{\"authorizeOracle(address)\":{\"params\":{\"oracle\":\"The oracle address to authorize\"}},\"batchRegister(address[],address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"referrer\":\"The referrer for all users\",\"users\":\"Array of users to register\"}},\"constructor\":{\"params\":{\"initialOracle\":\"Initial oracle address to authorize (optional, can be address(0))\",\"initialOwner\":\"The initial owner of the contract\"}},\"getAncestors(address,bytes32,uint256)\":{\"params\":{\"groupId\":\"The group ID\",\"maxLevels\":\"Maximum number of levels to traverse\",\"user\":\"The user to get ancestors for\"},\"returns\":{\"_0\":\"Array of ancestors, starting with immediate referrer\"}},\"getAuthorizedOracles()\":{\"returns\":{\"_0\":\"Array of authorized oracle addresses\"}},\"getChildren(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"referrer\":\"The referrer to query\"},\"returns\":{\"_0\":\"Array of addresses that were referred by this referrer\"}},\"getReferrer(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"user\":\"The user to query\"},\"returns\":{\"_0\":\"The address of the referrer, or address(0) if not registered\"}},\"isAuthorizedOracle(address)\":{\"params\":{\"oracle\":\"The address to check\"},\"returns\":{\"_0\":\"True if authorized\"}},\"isRegistered(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"user\":\"The user to check\"},\"returns\":{\"_0\":\"True if the user has a referrer in the group\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"register(address,address,bytes32)\":{\"details\":\"Groups are implicitly created when the first user registers. A user is in a group's referral tree if they have been referred or have referred others.\",\"params\":{\"groupId\":\"The group ID (group is auto-created on first registration)\",\"referrer\":\"The referrer address (must be in the group's referral tree, or address(0) for root registration)\",\"user\":\"The user being registered\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"unauthorizeOracle(address)\":{\"params\":{\"oracle\":\"The oracle address to unauthorize\"}}},\"title\":\"ReferralGraph\",\"version\":1},\"userdoc\":{\"errors\":{\"InvalidOracleAddress()\":[{\"notice\":\"Error when oracle address is invalid (zero address)\"}],\"InvalidReferrerAddress()\":[{\"notice\":\"Error when referrer address is invalid (zero address or not in tree)\"}],\"InvalidUserAddress()\":[{\"notice\":\"Error when user address is invalid (zero address)\"}],\"ReferrerNotInTree()\":[{\"notice\":\"Error when referrer is not in the referral tree\"}],\"SelfReferralNotAllowed()\":[{\"notice\":\"Error when trying to refer oneself\"}],\"UnauthorizedOracle()\":[{\"notice\":\"Error when caller is not an authorized oracle\"}],\"UserAlreadyRegistered()\":[{\"notice\":\"Error when user is already registered\"}]},\"events\":{\"OracleAuthorized(address)\":{\"notice\":\"Emitted when an oracle is authorized\"},\"OracleUnauthorized(address)\":{\"notice\":\"Emitted when an oracle is unauthorized\"},\"UserRegistered(address,address)\":{\"notice\":\"Emitted when a user registers with a referrer\"}},\"kind\":\"user\",\"methods\":{\"REFERRAL_ROOT()\":{\"notice\":\"Special address representing the root of all referral trees\"},\"authorizeOracle(address)\":{\"notice\":\"Authorize an oracle to register referrals\"},\"batchRegister(address[],address,bytes32)\":{\"notice\":\"Batch register multiple users with the same referrer in a group\"},\"constructor\":{\"notice\":\"Constructor\"},\"getAncestors(address,bytes32,uint256)\":{\"notice\":\"Get the ancestor chain for a user in a group\"},\"getAuthorizedOracles()\":{\"notice\":\"Get all authorized oracles\"},\"getChildren(address,bytes32)\":{\"notice\":\"Get the children of a referrer in a group\"},\"getReferrer(address,bytes32)\":{\"notice\":\"Get the referrer of a user in a group\"},\"isAuthorizedOracle(address)\":{\"notice\":\"Check if an address is an authorized oracle\"},\"isRegistered(address,bytes32)\":{\"notice\":\"Check if a user is registered in a group\"},\"register(address,address,bytes32)\":{\"notice\":\"Register a user with a referrer in a group\"},\"unauthorizeOracle(address)\":{\"notice\":\"Unauthorize an oracle\"}},\"notice\":\"Manages referral relationships in a tree structure\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/ReferralGraph.sol\":\"ReferralGraph\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"src/core/ReferralGraph.sol\":{\"keccak256\":\"0x52bcf16b0eb3721fc927011ab2edf8820682f1692b4be170abb4b47345442417\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://eacb15784abd8d6a302084708425e3d873ac31d1365baa323f31f4001d9d2993\",\"dweb:/ipfs/QmbmqqeTrqmgzhEgf3w9cszwGyW3WwoBxiANaQHv8Zy9td\"]},\"src/interfaces/IReferralGraph.sol\":{\"keccak256\":\"0x9659ff40c3fdb81d4440d307e03c5de0c76406e1c7ec5123b5e597327864bccf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5f0641943146ce8459440f51dc2df077575db2817fafe3eba249e0911d1c891b\",\"dweb:/ipfs/QmQT4815kqWnfvH4yXLcgZcUrKoGuiy2qGyj2xRMzgbnGf\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"address","name":"initialOracle","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidOracleAddress"},{"inputs":[],"type":"error","name":"InvalidReferrerAddress"},{"inputs":[],"type":"error","name":"InvalidUserAddress"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[],"type":"error","name":"ReferrerNotInTree"},{"inputs":[],"type":"error","name":"SelfReferralNotAllowed"},{"inputs":[],"type":"error","name":"UnauthorizedOracle"},{"inputs":[],"type":"error","name":"UserAlreadyRegistered"},{"inputs":[{"internalType":"address","name":"oracle","type":"address","indexed":true}],"type":"event","name":"OracleAuthorized","anonymous":false},{"inputs":[{"internalType":"address","name":"oracle","type":"address","indexed":true}],"type":"event","name":"OracleUnauthorized","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"referrer","type":"address","indexed":true}],"type":"event","name":"UserRegistered","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"REFERRAL_ROOT","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"authorizeOracle"},{"inputs":[{"internalType":"address[]","name":"users","type":"address[]"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"batchRegister"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"},{"internalType":"uint256","name":"maxLevels","type":"uint256"}],"stateMutability":"view","type":"function","name":"getAncestors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getAuthorizedOracles","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getChildren","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getReferrer","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"view","type":"function","name":"isAuthorizedOracle","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"register"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"unauthorizeOracle"}],"devdoc":{"kind":"dev","methods":{"authorizeOracle(address)":{"params":{"oracle":"The oracle address to authorize"}},"batchRegister(address[],address,bytes32)":{"params":{"groupId":"The group ID","referrer":"The referrer for all users","users":"Array of users to register"}},"constructor":{"params":{"initialOracle":"Initial oracle address to authorize (optional, can be address(0))","initialOwner":"The initial owner of the contract"}},"getAncestors(address,bytes32,uint256)":{"params":{"groupId":"The group ID","maxLevels":"Maximum number of levels to traverse","user":"The user to get ancestors for"},"returns":{"_0":"Array of ancestors, starting with immediate referrer"}},"getAuthorizedOracles()":{"returns":{"_0":"Array of authorized oracle addresses"}},"getChildren(address,bytes32)":{"params":{"groupId":"The group ID","referrer":"The referrer to query"},"returns":{"_0":"Array of addresses that were referred by this referrer"}},"getReferrer(address,bytes32)":{"params":{"groupId":"The group ID","user":"The user to query"},"returns":{"_0":"The address of the referrer, or address(0) if not registered"}},"isAuthorizedOracle(address)":{"params":{"oracle":"The address to check"},"returns":{"_0":"True if authorized"}},"isRegistered(address,bytes32)":{"params":{"groupId":"The group ID","user":"The user to check"},"returns":{"_0":"True if the user has a referrer in the group"}},"owner()":{"details":"Returns the address of the current owner."},"register(address,address,bytes32)":{"details":"Groups are implicitly created when the first user registers. A user is in a group's referral tree if they have been referred or have referred others.","params":{"groupId":"The group ID (group is auto-created on first registration)","referrer":"The referrer address (must be in the group's referral tree, or address(0) for root registration)","user":"The user being registered"}},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."},"unauthorizeOracle(address)":{"params":{"oracle":"The oracle address to unauthorize"}}},"version":1},"userdoc":{"kind":"user","methods":{"REFERRAL_ROOT()":{"notice":"Special address representing the root of all referral trees"},"authorizeOracle(address)":{"notice":"Authorize an oracle to register referrals"},"batchRegister(address[],address,bytes32)":{"notice":"Batch register multiple users with the same referrer in a group"},"constructor":{"notice":"Constructor"},"getAncestors(address,bytes32,uint256)":{"notice":"Get the ancestor chain for a user in a group"},"getAuthorizedOracles()":{"notice":"Get all authorized oracles"},"getChildren(address,bytes32)":{"notice":"Get the children of a referrer in a group"},"getReferrer(address,bytes32)":{"notice":"Get the referrer of a user in a group"},"isAuthorizedOracle(address)":{"notice":"Check if an address is an authorized oracle"},"isRegistered(address,bytes32)":{"notice":"Check if a user is registered in a group"},"register(address,address,bytes32)":{"notice":"Register a user with a referrer in a group"},"unauthorizeOracle(address)":{"notice":"Unauthorize an oracle"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/ReferralGraph.sol":"ReferralGraph"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"src/core/ReferralGraph.sol":{"keccak256":"0x52bcf16b0eb3721fc927011ab2edf8820682f1692b4be170abb4b47345442417","urls":["bzz-raw://eacb15784abd8d6a302084708425e3d873ac31d1365baa323f31f4001d9d2993","dweb:/ipfs/QmbmqqeTrqmgzhEgf3w9cszwGyW3WwoBxiANaQHv8Zy9td"],"license":"MIT"},"src/interfaces/IReferralGraph.sol":{"keccak256":"0x9659ff40c3fdb81d4440d307e03c5de0c76406e1c7ec5123b5e597327864bccf","urls":["bzz-raw://5f0641943146ce8459440f51dc2df077575db2817fafe3eba249e0911d1c891b","dweb:/ipfs/QmQT4815kqWnfvH4yXLcgZcUrKoGuiy2qGyj2xRMzgbnGf"],"license":"MIT"}},"version":1},"id":33}