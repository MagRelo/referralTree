{"abi":[{"type":"constructor","inputs":[{"name":"initialOwner","type":"address","internalType":"address"},{"name":"initialOracle","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"NULL_REFERRER","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"authorizeOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"batchRegister","inputs":[{"name":"users","type":"address[]","internalType":"address[]"},{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAncestors","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"},{"name":"maxLevels","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getAuthorizedOracles","inputs":[],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getChildren","inputs":[{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getReferrer","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getRoot","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isAuthorizedOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isRegistered","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"register","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"unauthorizeOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"OracleAuthorized","inputs":[{"name":"oracle","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OracleUnauthorized","inputs":[{"name":"oracle","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UserRegistered","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"referrer","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"AlreadyRegistered","inputs":[]},{"type":"error","name":"CycleDetected","inputs":[]},{"type":"error","name":"InvalidReferrer","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"UnauthorizedOracle","inputs":[]}],"bytecode":{"object":"0x6080346101a157601f610d8f38819003918201601f19168301916001600160401b0383118484101761017a5780849260409485528339810103126101a157610052602061004b836101a5565b92016101a5565b6001600160a01b0390911690811561018e575f80546001600160a01b031981168417825560405193916001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a36001600160a01b0316806100c7575b50610bd590816101ba8239f35b805f52600360205260405f20600160ff198254161790556004546801000000000000000081101561017a5760018101806004558110156101665760045f9081527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b9190910180546001600160a01b031916831790557f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b79080a25f6100ba565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52604160045260245ffd5b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b51906001600160a01b03821682036101a15756fe60806040526004361015610011575f80fd5b5f3560e01c80630f13b7631461065957806349bcd2481461063e5780635ca1e1651461063e578063622be01c1461059257806366695b1e1461050b57806369b15fce146104b65780636e138c8414610439578063715018a6146103e257806376bba3be1461027d57806377ccfd4b146102335780638da5cb5b1461020c578063bfe609da146101cf578063d65ad69414610183578063e96dc26a146101475763f2fde38b146100be575f80fd5b34610143576020366003190112610143576100d7610727565b6100df610978565b6001600160a01b03168015610130575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b346101435760603660031901126101435761017f610173610166610727565b6044359060243590610856565b60405191829182610753565b0390f35b346101435760403660031901126101435761019c610727565b6024355f9081526001602090815260408083206001600160a01b0394851684528252918290205491519190921615158152f35b34610143576020366003190112610143576001600160a01b036101f0610727565b165f526003602052602060ff60405f2054166040519015158152f35b34610143575f366003190112610143575f546040516001600160a01b039091168152602090f35b346101435760403660031901126101435761024c610727565b6024355f9081526001602090815260408083206001600160a01b039485168452825291829020549151919092168152f35b3461014357602036600319011261014357610296610727565b61029e610978565b6001600160a01b03165f8181526003602052604090205460ff166102be57005b5f818152600360205260408120805460ff191690555b60045490818110156103db57826102ea82610795565b905460039190911b1c6001600160a01b03161461030b5760019150016102d4565b5f1982019182116103c75761033d61032561036193610795565b905460039190911b1c6001600160a01b031691610795565b81546001600160a01b0393841660039290921b91821b9390911b1916919091179055565b60045480156103b3575f190161037681610795565b81549060018060a01b039060031b1b191690556004555b7fdd4fdcea7474ec44ed60a0e33a8b3e1a80b4002026a6bc5b8e6e97bd883641335f80a2005b634e487b7160e01b5f52603160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b505061038d565b34610143575f366003190112610143576103fa610978565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b34610143575f3660031901126101435760405180602060045491828152019060045f527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b905f5b8181106104975761017f85610173818703826107d6565b82546001600160a01b0316845260209093019260019283019201610480565b34610143576060366003190112610143576104cf610727565b6104d761073d565b90335f52600360205260ff60405f205416156104fc576104fa916044359161099e565b005b63db8d1fb760e01b5f5260045ffd5b3461014357604036600319011261014357610524610727565b6024355f52600260205260405f209060018060a01b03165f5260205260405f206040519081602082549182815201915f5260205f20905f5b8181106105735761017f85610173818703826107d6565b82546001600160a01b031684526020909301926001928301920161055c565b346101435760603660031901126101435760043567ffffffffffffffff8111610143573660238201121561014357806004013567ffffffffffffffff8111610143573660248260051b84010111610143576105eb61073d565b9160443590335f52600360205260ff60405f205416156104fc575f5b838110156104fa57600581901b820160240135906001600160a01b038216820361014357610638848760019461099e565b01610607565b34610143575f36600319011261014357602060405160018152f35b3461014357602036600319011261014357610672610727565b61067a610978565b6001600160a01b03811690811561071857815f52600360205260ff60405f205416156106a257005b815f52600360205260405f20600160ff1982541617905560045490600160401b8210156107045761033d8260016106de940160045560046107c1565b7f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b75f80a2005b634e487b7160e01b5f52604160045260245ffd5b630c22084560e31b5f5260045ffd5b600435906001600160a01b038216820361014357565b602435906001600160a01b038216820361014357565b60206040818301928281528451809452019201905f5b8181106107765750505090565b82516001600160a01b0316845260209384019390920191600101610769565b6004548110156107ad5760045f5260205f2001905f90565b634e487b7160e01b5f52603260045260245ffd5b80548210156107ad575f5260205f2001905f90565b90601f8019910116810190811067ffffffffffffffff82111761070457604052565b67ffffffffffffffff81116107045760051b60200190565b9061081a826107f8565b61082760405191826107d6565b8281528092610838601f19916107f8565b0190602036910137565b80518210156107ad5760209160051b010190565b6001600160a01b0316928315801561096e575b6109525761087683610810565b905f94835f52600160205260405f20905f5260205260405f2060018060a01b039054165b6001600160a01b031680151580610947575b8061093e575b156108f657806108c28785610842565b525f84815260016020908152604080832093835292905220546001600160a01b0316945f1981146103c7576001019461089a565b50925092905061090581610810565b905f5b818110610916575090925050565b6001906001600160a01b0361092b8288610842565b51166109378286610842565b5201610908565b508486106108b2565b5060018114156108ac565b925050506040516109646020826107d6565b5f81525f36813790565b5060018414610869565b5f546001600160a01b0316330361098b57565b63118cdaa760e01b5f523360045260245ffd5b90916001600160a01b03821691908215610718575f8181526001602090815260408083208684529091529020546001600160a01b0316610ab9576001600160a01b0384169384156107185783851461071857600185141580610aa8575b6107185781610a0a9184610b46565b610a9957805f52600160205260405f20835f5260205260405f20846bffffffffffffffffffffffff60a01b8254161790555f52600260205260405f20835f5260205260405f2090815491600160401b831015610704578261033d916001610a73950181556107c1565b7f2138b9314634f9fdd5e49bee3eaf17ca557b6637524d0db759711c3bfcd3d8505f80a3565b639146c72360e01b5f5260045ffd5b50610ab38282610ac8565b156109fb565b630ea075bf60e21b5f5260045ffd5b6001600160a01b03811660011480610b3e575b610b37575f8281526001602090815260408083206001600160a01b038581168552925290912054161580159290610b1157505090565b9091505f52600260205260405f209060018060a01b03165f5260205260405f2054151590565b5050600190565b506001610adb565b92905b6001600160a01b03168015610b97576001600160a01b0384168114610b8e575f83815260016020908152604080832093835292905220546001600160a01b0316610b49565b50915050600190565b509150505f9056fea26469706673582212200a6371b54c9fc9a50961612686625ac7e2f29c597e3a108f88114b70bd74aaaa64736f6c634300081a0033","sourceMap":"349:8510:33:-:0;;;;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;-1:-1:-1;;;;;349:8510:33;;;;1273:26:19;;1269:95;;-1:-1:-1;349:8510:33;;-1:-1:-1;;;;;;349:8510:33;;;;;;;;;;-1:-1:-1;;;;;349:8510:33;;;;3052:40:19;;-1:-1:-1;3052:40:19;-1:-1:-1;;;;;349:8510:33;;1630:204;;-1:-1:-1;349:8510:33;;;;;;;;1630:204;349:8510;-1:-1:-1;349:8510:33;1677:18;349:8510;;;-1:-1:-1;349:8510:33;1713:4;349:8510;;;;;;;;1731:22;349:8510;;;;;;;1713:4;349:8510;;;1731:22;349:8510;;;;;;1731:22;-1:-1:-1;349:8510:33;;;;;;;;;;-1:-1:-1;;;;;;349:8510:33;;;;;1792:31;;-1:-1:-1;1792:31:33;1630:204;;;349:8510;;;;-1:-1:-1;349:8510:33;;1731:22;349:8510;;-1:-1:-1;349:8510:33;;;;;-1:-1:-1;349:8510:33;;1731:22;349:8510;;-1:-1:-1;349:8510:33;1269:95:19;1322:31;;;-1:-1:-1;1322:31:19;-1:-1:-1;1322:31:19;349:8510:33;;-1:-1:-1;1322:31:19;349:8510:33;-1:-1:-1;349:8510:33;;;;;-1:-1:-1;;;;;349:8510:33;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f3560e01c80630f13b7631461065957806349bcd2481461063e5780635ca1e1651461063e578063622be01c1461059257806366695b1e1461050b57806369b15fce146104b65780636e138c8414610439578063715018a6146103e257806376bba3be1461027d57806377ccfd4b146102335780638da5cb5b1461020c578063bfe609da146101cf578063d65ad69414610183578063e96dc26a146101475763f2fde38b146100be575f80fd5b34610143576020366003190112610143576100d7610727565b6100df610978565b6001600160a01b03168015610130575f80546001600160a01b03198116831782556001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3005b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b346101435760603660031901126101435761017f610173610166610727565b6044359060243590610856565b60405191829182610753565b0390f35b346101435760403660031901126101435761019c610727565b6024355f9081526001602090815260408083206001600160a01b0394851684528252918290205491519190921615158152f35b34610143576020366003190112610143576001600160a01b036101f0610727565b165f526003602052602060ff60405f2054166040519015158152f35b34610143575f366003190112610143575f546040516001600160a01b039091168152602090f35b346101435760403660031901126101435761024c610727565b6024355f9081526001602090815260408083206001600160a01b039485168452825291829020549151919092168152f35b3461014357602036600319011261014357610296610727565b61029e610978565b6001600160a01b03165f8181526003602052604090205460ff166102be57005b5f818152600360205260408120805460ff191690555b60045490818110156103db57826102ea82610795565b905460039190911b1c6001600160a01b03161461030b5760019150016102d4565b5f1982019182116103c75761033d61032561036193610795565b905460039190911b1c6001600160a01b031691610795565b81546001600160a01b0393841660039290921b91821b9390911b1916919091179055565b60045480156103b3575f190161037681610795565b81549060018060a01b039060031b1b191690556004555b7fdd4fdcea7474ec44ed60a0e33a8b3e1a80b4002026a6bc5b8e6e97bd883641335f80a2005b634e487b7160e01b5f52603160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b505061038d565b34610143575f366003190112610143576103fa610978565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b34610143575f3660031901126101435760405180602060045491828152019060045f527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b905f5b8181106104975761017f85610173818703826107d6565b82546001600160a01b0316845260209093019260019283019201610480565b34610143576060366003190112610143576104cf610727565b6104d761073d565b90335f52600360205260ff60405f205416156104fc576104fa916044359161099e565b005b63db8d1fb760e01b5f5260045ffd5b3461014357604036600319011261014357610524610727565b6024355f52600260205260405f209060018060a01b03165f5260205260405f206040519081602082549182815201915f5260205f20905f5b8181106105735761017f85610173818703826107d6565b82546001600160a01b031684526020909301926001928301920161055c565b346101435760603660031901126101435760043567ffffffffffffffff8111610143573660238201121561014357806004013567ffffffffffffffff8111610143573660248260051b84010111610143576105eb61073d565b9160443590335f52600360205260ff60405f205416156104fc575f5b838110156104fa57600581901b820160240135906001600160a01b038216820361014357610638848760019461099e565b01610607565b34610143575f36600319011261014357602060405160018152f35b3461014357602036600319011261014357610672610727565b61067a610978565b6001600160a01b03811690811561071857815f52600360205260ff60405f205416156106a257005b815f52600360205260405f20600160ff1982541617905560045490600160401b8210156107045761033d8260016106de940160045560046107c1565b7f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b75f80a2005b634e487b7160e01b5f52604160045260245ffd5b630c22084560e31b5f5260045ffd5b600435906001600160a01b038216820361014357565b602435906001600160a01b038216820361014357565b60206040818301928281528451809452019201905f5b8181106107765750505090565b82516001600160a01b0316845260209384019390920191600101610769565b6004548110156107ad5760045f5260205f2001905f90565b634e487b7160e01b5f52603260045260245ffd5b80548210156107ad575f5260205f2001905f90565b90601f8019910116810190811067ffffffffffffffff82111761070457604052565b67ffffffffffffffff81116107045760051b60200190565b9061081a826107f8565b61082760405191826107d6565b8281528092610838601f19916107f8565b0190602036910137565b80518210156107ad5760209160051b010190565b6001600160a01b0316928315801561096e575b6109525761087683610810565b905f94835f52600160205260405f20905f5260205260405f2060018060a01b039054165b6001600160a01b031680151580610947575b8061093e575b156108f657806108c28785610842565b525f84815260016020908152604080832093835292905220546001600160a01b0316945f1981146103c7576001019461089a565b50925092905061090581610810565b905f5b818110610916575090925050565b6001906001600160a01b0361092b8288610842565b51166109378286610842565b5201610908565b508486106108b2565b5060018114156108ac565b925050506040516109646020826107d6565b5f81525f36813790565b5060018414610869565b5f546001600160a01b0316330361098b57565b63118cdaa760e01b5f523360045260245ffd5b90916001600160a01b03821691908215610718575f8181526001602090815260408083208684529091529020546001600160a01b0316610ab9576001600160a01b0384169384156107185783851461071857600185141580610aa8575b6107185781610a0a9184610b46565b610a9957805f52600160205260405f20835f5260205260405f20846bffffffffffffffffffffffff60a01b8254161790555f52600260205260405f20835f5260205260405f2090815491600160401b831015610704578261033d916001610a73950181556107c1565b7f2138b9314634f9fdd5e49bee3eaf17ca557b6637524d0db759711c3bfcd3d8505f80a3565b639146c72360e01b5f5260045ffd5b50610ab38282610ac8565b156109fb565b630ea075bf60e21b5f5260045ffd5b6001600160a01b03811660011480610b3e575b610b37575f8281526001602090815260408083206001600160a01b038581168552925290912054161580159290610b1157505090565b9091505f52600260205260405f209060018060a01b03165f5260205260405f2054151590565b5050600190565b506001610adb565b92905b6001600160a01b03168015610b97576001600160a01b0384168114610b8e575f83815260016020908152604080832093835292905220546001600160a01b0316610b49565b50915050600190565b509150505f9056fea26469706673582212200a6371b54c9fc9a50961612686625ac7e2f29c597e3a108f88114b70bd74aaaa64736f6c634300081a0033","sourceMap":"349:8510:33:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;:::i;:::-;1500:62:19;;:::i;:::-;-1:-1:-1;;;;;349:8510:33;2627:22:19;;2623:91;;349:8510:33;;;-1:-1:-1;;;;;;349:8510:33;;;;;;-1:-1:-1;;;;;349:8510:33;;3052:40:19;;349:8510:33;3052:40:19;349:8510:33;2623:91:19;2672:31;;;349:8510:33;2672:31:19;349:8510:33;;;;;2672:31:19;349:8510:33;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;:::i;:::-;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;;;;;3916:39;;349:8510;;;;;;;;;-1:-1:-1;;349:8510:33;;;;-1:-1:-1;;;;;349:8510:33;;:::i;:::-;;;;8664:18;349:8510;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;:::i;:::-;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;:::i;:::-;1500:62:19;;:::i;:::-;-1:-1:-1;;;;;349:8510:33;;;;;8012:18;349:8510;;;;;;;;8008:519;;349:8510;8008:519;349:8510;;;;8012:18;349:8510;;;;;;;-1:-1:-1;;349:8510:33;;;8190:3;349:8510;;8155:33;;;;;;;8217:25;;;;:::i;:::-;349:8510;;8012:18;349:8510;;;;;-1:-1:-1;;;;;349:8510:33;8217:35;8213:244;;349:8510;8190:3;;349:8510;8140:13;;8213:244;-1:-1:-1;;349:8510:33;;;;;;;8276:25;8304:57;8276:85;8304:57;;:::i;:::-;349:8510;;8012:18;349:8510;;;;;-1:-1:-1;;;;;349:8510:33;;8276:25;:::i;:::-;349:8510;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;;;8276:85;349:8510;;;;;;-1:-1:-1;;349:8510:33;;;;:::i;:::-;;;;;;;;;;8012:18;349:8510;;;;;;;;8135:336;8490:26;349:8510;8490:26;;349:8510;;;;;;;;;;;;;;;;;;;;;;;;;8155:33;;;;;349:8510;;;;;;-1:-1:-1;;349:8510:33;;;;1500:62:19;;:::i;:::-;349:8510:33;;;-1:-1:-1;;;;;;349:8510:33;;;;-1:-1:-1;;;;;349:8510:33;3052:40:19;349:8510:33;;3052:40:19;349:8510:33;;;;;;;-1:-1:-1;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;:::i;:::-;;;:::i;:::-;4756:10;;349:8510;;4737:18;349:8510;;;;;;;;4736:31;4732:89;;6336:7;349:8510;;;6336:7;;:::i;:::-;349:8510;4732:89;4790:20;;;349:8510;4790:20;349:8510;;4790:20;349:8510;;;;;;-1:-1:-1;;349:8510:33;;;;;;:::i;:::-;;;;;2515:9;349:8510;;;;;2515:28;349:8510;;;;;;-1:-1:-1;349:8510:33;;;;-1:-1:-1;349:8510:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;4756:10;;349:8510;;4737:18;349:8510;;;;;;;;4736:31;4732:89;;349:8510;6734:3;6716:16;;;;;;349:8510;;;;;;;;;;-1:-1:-1;;;;;349:8510:33;;;;;;6783:7;;;349:8510;6783:7;;:::i;:::-;349:8510;6701:13;;349:8510;;;;;;-1:-1:-1;;349:8510:33;;;;;;;532:42;349:8510;;;;;;;;;-1:-1:-1;;349:8510:33;;;;;;:::i;:::-;1500:62:19;;:::i;:::-;-1:-1:-1;;;;;349:8510:33;;;7650:20;;7646:50;;349:8510;;;7711:18;349:8510;;;;;;;;7710:27;7706:183;;349:8510;7706:183;349:8510;;;7711:18;349:8510;;;;;7782:4;349:8510;;;;;;;;;;;-1:-1:-1;;;349:8510:33;;;;;;;7782:4;349:8510;;;;;;;:::i;:::-;7854:24;349:8510;7854:24;;349:8510;;;;;;;;;;;;;7646:50;7679:17;;;349:8510;7679:17;349:8510;;7679:17;349:8510;;;;-1:-1:-1;;;;;349:8510:33;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;349:8510:33;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;349:8510:33;;-1:-1:-1;349:8510:33;;;-1:-1:-1;349:8510:33;:::o;:::-;;;;;;;;;;;;;;;;;;;;-1:-1:-1;349:8510:33;;-1:-1:-1;349:8510:33;;;-1:-1:-1;349:8510:33;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;:::i;:::-;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;2834:785::-;-1:-1:-1;;;;;349:8510:33;;2961:18;;:35;;;;2834:785;2957:89;;3085:24;;;:::i;:::-;3119:17;2977:1;349:8510;;2977:1;349:8510;3164:10;349:8510;;;2977:1;349:8510;3164:25;2977:1;349:8510;;;;2977:1;349:8510;;;;;;;;;3200:195;-1:-1:-1;;;;;349:8510:33;3207:21;;;;:41;;3200:195;3207:62;;;3200:195;3207:62;;;3285:26;;;;;:::i;:::-;349:8510;2977:1;349:8510;;;3164:10;349:8510;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:8510:33;;-1:-1:-1;;349:8510:33;;;;3164:10;349:8510;3200:195;;;3207:62;;;;;;;3474:20;;;:::i;:::-;3509:13;2977:1;3524:9;;;;;;-1:-1:-1;3599:13:33;;-1:-1:-1;;2834:785:33:o;3535:3::-;3164:10;;-1:-1:-1;;;;;3566:12:33;349:8510;3566:12;;:::i;:::-;349:8510;;3554:24;;;;:::i;:::-;349:8510;;3509:13;;3207:62;3252:17;;;;3207:62;;:41;3232:16;3164:10;3232:16;;;3207:41;;2957:89;349:8510;;;;;;;;;;:::i;:::-;2977:1;349:8510;;2977:1;349:8510;;;3012:23;:::o;2961:35::-;2983:13;532:42;2983:13;;2961:35;;1796:162:19;1710:6;349:8510:33;-1:-1:-1;;;;;349:8510:33;735:10:25;1855:23:19;1851:101;;1796:162::o;1851:101::-;1901:40;;;1710:6;1901:40;735:10:25;1901:40:19;349:8510:33;;1710:6:19;1901:40;5040:1122:33;;;-1:-1:-1;;;;;349:8510:33;;;5040:1122;5131:18;;5127:48;;5147:1;349:8510;;;5189:10;349:8510;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:8510:33;5185:71;;-1:-1:-1;;;;;349:8510:33;;;5270:22;;5266:52;;5380:16;;;5350:72;;5189:10;5619:17;;;5593:84;;;5040:1122;5589:188;;5871:42;;;;;:::i;:::-;5867:95;;349:8510;5147:1;349:8510;5189:10;349:8510;;;5147:1;349:8510;;-1:-1:-1;349:8510:33;;;;-1:-1:-1;349:8510:33;;;;;;;;;;;5147:1;349:8510;6060:9;349:8510;;;5147:1;349:8510;;-1:-1:-1;349:8510:33;;;;-1:-1:-1;349:8510:33;;;;;-1:-1:-1;;;349:8510:33;;;;;;;;5189:10;349:8510;;;;;;:::i;:::-;6125:30;5147:1;6125:30;;5040:1122::o;5867:95::-;5936:15;;;5147:1;5936:15;;5147:1;5936:15;5593:84;5641:36;;;;;:::i;:::-;5640:37;5593:84;;5185:71;5237:19;;;5147:1;5237:19;;5147:1;5237:19;4219:391;-1:-1:-1;;;;;349:8510:33;;532:42;4376:13;;:36;;4219:391;4372:53;;349:8510;;;;532:42;349:8510;;;;;;;;-1:-1:-1;;;;;349:8510:33;;;;;;;;;;;;4525:39;;;;349:8510;4525:78;;4518:85;;4219:391;:::o;4525:78::-;349:8510;;;;;4568:9;349:8510;;;;;4568:24;349:8510;;;;;;-1:-1:-1;349:8510:33;;;;-1:-1:-1;349:8510:33;;4568:35;;4219:391;:::o;4372:53::-;4414:11;;532:42;4414:11;:::o;4376:36::-;;532:42;4376:36;;7047:318;;;7198:139;-1:-1:-1;;;;;349:8510:33;7205:21;;;;-1:-1:-1;;;;;349:8510:33;;7246:15;;7242:32;;349:8510;;;;7298:10;349:8510;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:8510:33;7198:139;;7242:32;7263:11;;;;7298:10;7263:11;:::o;7205:21::-;;;;;349:8510;7047:318;:::o","linkReferences":{}},"methodIdentifiers":{"NULL_REFERRER()":"49bcd248","authorizeOracle(address)":"0f13b763","batchRegister(address[],address,bytes32)":"622be01c","getAncestors(address,bytes32,uint256)":"e96dc26a","getAuthorizedOracles()":"6e138c84","getChildren(address,bytes32)":"66695b1e","getReferrer(address,bytes32)":"77ccfd4b","getRoot()":"5ca1e165","isAuthorizedOracle(address)":"bfe609da","isRegistered(address,bytes32)":"d65ad694","owner()":"8da5cb5b","register(address,address,bytes32)":"69b15fce","renounceOwnership()":"715018a6","transferOwnership(address)":"f2fde38b","unauthorizeOracle(address)":"76bba3be"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"initialOwner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"initialOracle\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AlreadyRegistered\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CycleDetected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidReferrer\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnauthorizedOracle\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"OracleAuthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"OracleUnauthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"UserRegistered\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"NULL_REFERRER\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"authorizeOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"users\",\"type\":\"address[]\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"batchRegister\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"maxLevels\",\"type\":\"uint256\"}],\"name\":\"getAncestors\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAuthorizedOracles\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"getChildren\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"getReferrer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRoot\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"isAuthorizedOracle\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"isRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"register\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"unauthorizeOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Prevents cycles and enforces depth limits for security\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}]},\"kind\":\"dev\",\"methods\":{\"authorizeOracle(address)\":{\"params\":{\"oracle\":\"The oracle address to authorize\"}},\"batchRegister(address[],address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"referrer\":\"The referrer for all users\",\"users\":\"Array of users to register\"}},\"constructor\":{\"details\":\"Root is forced to NULL_REFERRER to enable proportional redistribution\",\"params\":{\"initialOracle\":\"Initial oracle address to authorize (optional, can be address(0))\",\"initialOwner\":\"The initial owner of the contract\"}},\"getAncestors(address,bytes32,uint256)\":{\"params\":{\"groupId\":\"The group ID\",\"maxLevels\":\"Maximum number of levels to traverse\",\"user\":\"The user to get ancestors for\"},\"returns\":{\"_0\":\"Array of ancestors, starting with immediate referrer\"}},\"getAuthorizedOracles()\":{\"returns\":{\"_0\":\"Array of authorized oracle addresses\"}},\"getChildren(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"referrer\":\"The referrer to query\"},\"returns\":{\"_0\":\"Array of addresses that were referred by this referrer\"}},\"getReferrer(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"user\":\"The user to query\"},\"returns\":{\"_0\":\"The address of the referrer, or address(0) if not registered\"}},\"getRoot()\":{\"returns\":{\"_0\":\"The root address\"}},\"isAuthorizedOracle(address)\":{\"params\":{\"oracle\":\"The address to check\"},\"returns\":{\"_0\":\"True if authorized\"}},\"isRegistered(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"user\":\"The user to check\"},\"returns\":{\"_0\":\"True if the user has a referrer in the group\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"register(address,address,bytes32)\":{\"details\":\"Groups are implicitly created when the first user registers. A user is in a group's referral tree if they have been referred or have referred others.\",\"params\":{\"groupId\":\"The group ID (group is auto-created on first registration)\",\"referrer\":\"The referrer address (must be in the group's referral tree, or address(0) for root registration)\",\"user\":\"The user being registered\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"unauthorizeOracle(address)\":{\"params\":{\"oracle\":\"The oracle address to unauthorize\"}}},\"title\":\"ReferralGraph\",\"version\":1},\"userdoc\":{\"errors\":{\"AlreadyRegistered()\":[{\"notice\":\"Error when user is already registered\"}],\"CycleDetected()\":[{\"notice\":\"Error when trying to create a cycle in referral graph\"}],\"InvalidReferrer()\":[{\"notice\":\"Error when trying to register with invalid referrer\"}],\"UnauthorizedOracle()\":[{\"notice\":\"Error when caller is not an authorized oracle\"}]},\"events\":{\"OracleAuthorized(address)\":{\"notice\":\"Emitted when an oracle is authorized\"},\"OracleUnauthorized(address)\":{\"notice\":\"Emitted when an oracle is unauthorized\"},\"UserRegistered(address,address)\":{\"notice\":\"Emitted when a user registers with a referrer\"}},\"kind\":\"user\",\"methods\":{\"NULL_REFERRER()\":{\"notice\":\"Special address representing the null referrer (ultimate root)\"},\"authorizeOracle(address)\":{\"notice\":\"Authorize an oracle to register referrals\"},\"batchRegister(address[],address,bytes32)\":{\"notice\":\"Batch register multiple users with the same referrer in a group\"},\"constructor\":{\"notice\":\"Constructor\"},\"getAncestors(address,bytes32,uint256)\":{\"notice\":\"Get the ancestor chain for a user in a group\"},\"getAuthorizedOracles()\":{\"notice\":\"Get all authorized oracles\"},\"getChildren(address,bytes32)\":{\"notice\":\"Get the children of a referrer in a group\"},\"getReferrer(address,bytes32)\":{\"notice\":\"Get the referrer of a user in a group\"},\"getRoot()\":{\"notice\":\"Get the root address\"},\"isAuthorizedOracle(address)\":{\"notice\":\"Check if an address is an authorized oracle\"},\"isRegistered(address,bytes32)\":{\"notice\":\"Check if a user is registered in a group\"},\"register(address,address,bytes32)\":{\"notice\":\"Register a user with a referrer in a group\"},\"unauthorizeOracle(address)\":{\"notice\":\"Unauthorize an oracle\"}},\"notice\":\"Manages referral relationships in a tree structure\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/core/ReferralGraph.sol\":\"ReferralGraph\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"src/core/ReferralGraph.sol\":{\"keccak256\":\"0x97ab99d7917367c889e65d7bcf852121f391fe97e2763b94b295db39f04c23ed\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://933009700525c773ed79399e85d800fdc0ea52981697743363105ec4b5aaf3fc\",\"dweb:/ipfs/QmQisUXVh7qnzPfWXhu825f2DDGfJKSd4S2HrFmaeprAjn\"]},\"src/interfaces/IReferralGraph.sol\":{\"keccak256\":\"0xd9f4ef1365e2f0544df1f2004b460df07d7005b4d6a75da58e59b845f221d510\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c4a89f253c2618cb2b0c4c2d37df67c8bcffa97e0e7507e1c0d651d0217ce1b6\",\"dweb:/ipfs/QmbmZfVNgXRRdz9hKJCKoNfAdvGFCRkY2xUmW2gKtfuaBo\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"address","name":"initialOracle","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AlreadyRegistered"},{"inputs":[],"type":"error","name":"CycleDetected"},{"inputs":[],"type":"error","name":"InvalidReferrer"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[],"type":"error","name":"UnauthorizedOracle"},{"inputs":[{"internalType":"address","name":"oracle","type":"address","indexed":true}],"type":"event","name":"OracleAuthorized","anonymous":false},{"inputs":[{"internalType":"address","name":"oracle","type":"address","indexed":true}],"type":"event","name":"OracleUnauthorized","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"referrer","type":"address","indexed":true}],"type":"event","name":"UserRegistered","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"NULL_REFERRER","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"authorizeOracle"},{"inputs":[{"internalType":"address[]","name":"users","type":"address[]"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"batchRegister"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"},{"internalType":"uint256","name":"maxLevels","type":"uint256"}],"stateMutability":"view","type":"function","name":"getAncestors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getAuthorizedOracles","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getChildren","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getReferrer","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getRoot","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"view","type":"function","name":"isAuthorizedOracle","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"register"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"unauthorizeOracle"}],"devdoc":{"kind":"dev","methods":{"authorizeOracle(address)":{"params":{"oracle":"The oracle address to authorize"}},"batchRegister(address[],address,bytes32)":{"params":{"groupId":"The group ID","referrer":"The referrer for all users","users":"Array of users to register"}},"constructor":{"details":"Root is forced to NULL_REFERRER to enable proportional redistribution","params":{"initialOracle":"Initial oracle address to authorize (optional, can be address(0))","initialOwner":"The initial owner of the contract"}},"getAncestors(address,bytes32,uint256)":{"params":{"groupId":"The group ID","maxLevels":"Maximum number of levels to traverse","user":"The user to get ancestors for"},"returns":{"_0":"Array of ancestors, starting with immediate referrer"}},"getAuthorizedOracles()":{"returns":{"_0":"Array of authorized oracle addresses"}},"getChildren(address,bytes32)":{"params":{"groupId":"The group ID","referrer":"The referrer to query"},"returns":{"_0":"Array of addresses that were referred by this referrer"}},"getReferrer(address,bytes32)":{"params":{"groupId":"The group ID","user":"The user to query"},"returns":{"_0":"The address of the referrer, or address(0) if not registered"}},"getRoot()":{"returns":{"_0":"The root address"}},"isAuthorizedOracle(address)":{"params":{"oracle":"The address to check"},"returns":{"_0":"True if authorized"}},"isRegistered(address,bytes32)":{"params":{"groupId":"The group ID","user":"The user to check"},"returns":{"_0":"True if the user has a referrer in the group"}},"owner()":{"details":"Returns the address of the current owner."},"register(address,address,bytes32)":{"details":"Groups are implicitly created when the first user registers. A user is in a group's referral tree if they have been referred or have referred others.","params":{"groupId":"The group ID (group is auto-created on first registration)","referrer":"The referrer address (must be in the group's referral tree, or address(0) for root registration)","user":"The user being registered"}},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."},"unauthorizeOracle(address)":{"params":{"oracle":"The oracle address to unauthorize"}}},"version":1},"userdoc":{"kind":"user","methods":{"NULL_REFERRER()":{"notice":"Special address representing the null referrer (ultimate root)"},"authorizeOracle(address)":{"notice":"Authorize an oracle to register referrals"},"batchRegister(address[],address,bytes32)":{"notice":"Batch register multiple users with the same referrer in a group"},"constructor":{"notice":"Constructor"},"getAncestors(address,bytes32,uint256)":{"notice":"Get the ancestor chain for a user in a group"},"getAuthorizedOracles()":{"notice":"Get all authorized oracles"},"getChildren(address,bytes32)":{"notice":"Get the children of a referrer in a group"},"getReferrer(address,bytes32)":{"notice":"Get the referrer of a user in a group"},"getRoot()":{"notice":"Get the root address"},"isAuthorizedOracle(address)":{"notice":"Check if an address is an authorized oracle"},"isRegistered(address,bytes32)":{"notice":"Check if a user is registered in a group"},"register(address,address,bytes32)":{"notice":"Register a user with a referrer in a group"},"unauthorizeOracle(address)":{"notice":"Unauthorize an oracle"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/ReferralGraph.sol":"ReferralGraph"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"src/core/ReferralGraph.sol":{"keccak256":"0x97ab99d7917367c889e65d7bcf852121f391fe97e2763b94b295db39f04c23ed","urls":["bzz-raw://933009700525c773ed79399e85d800fdc0ea52981697743363105ec4b5aaf3fc","dweb:/ipfs/QmQisUXVh7qnzPfWXhu825f2DDGfJKSd4S2HrFmaeprAjn"],"license":"MIT"},"src/interfaces/IReferralGraph.sol":{"keccak256":"0xd9f4ef1365e2f0544df1f2004b460df07d7005b4d6a75da58e59b845f221d510","urls":["bzz-raw://c4a89f253c2618cb2b0c4c2d37df67c8bcffa97e0e7507e1c0d651d0217ce1b6","dweb:/ipfs/QmbmZfVNgXRRdz9hKJCKoNfAdvGFCRkY2xUmW2gKtfuaBo"],"license":"MIT"}},"version":1},"id":33}