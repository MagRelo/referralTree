{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"REFERRAL_ROOT","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"addReferral","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"authorizeOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"batchRegister","inputs":[{"name":"users","type":"address[]","internalType":"address[]"},{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAncestors","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"maxLevels","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getAncestors","inputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"bytes32","internalType":"bytes32"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"pure"},{"type":"function","name":"getAuthorizedOracles","inputs":[],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getChildren","inputs":[{"name":"referrer","type":"address","internalType":"address"},{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getReferralChain","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getReferralDepth","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getReferrer","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getReferrers","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"isAuthorizedOracle","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"pure"},{"type":"function","name":"isRegistered","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isValidReferral","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"register","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"},{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setReferrer","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"unauthorizeOracle","inputs":[{"name":"oracle","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"OracleAuthorized","inputs":[{"name":"oracle","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OracleUnauthorized","inputs":[{"name":"oracle","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UserRegistered","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"referrer","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"AlreadyRegistered","inputs":[]},{"type":"error","name":"CycleDetected","inputs":[]},{"type":"error","name":"InvalidReferrer","inputs":[]},{"type":"error","name":"UnauthorizedOracle","inputs":[]}],"bytecode":{"object":"0x608080604052346049575f805260026020527fac33ff75c19e70fe83507db0d683fd3465c996598dc972688b7ace676c89077b805460ff19166001179055610a73908161004e8239f35b5f80fdfe60806040526004361015610011575f80fd5b5f3560e01c80630a9b7ed5146108205780630b5c3f871461027e5780630f13b7631461077d578063622be01c146107235780636667864d1461064f57806366695b1e146105d457806369b15fce146105815780636e138c84146104f857806376bba3be1461039c57806377ccfd4b1461035d578063829d1535146102e857806393cec3e21461029e578063ba59475114610283578063bbddaca31461027e578063bfe609da14610259578063d65ad69414610218578063df65845a1461013d5763e96dc26a146100df575f80fd5b34610139576060366003190112610139576100f86108f9565b50604051610107602082610983565b5f8152610121905f36602083013760405191829182610925565b0390f35b634e487b7160e01b5f52604160045260245ffd5b5f80fd5b34610139576020366003190112610139576101566108f9565b6040519061016560c083610983565b6005825260a03660208401375f905b6001600160a01b03168015158061020e575b156101c4575f908152602081905260409020546001600160a01b03168015610174579080826101b86101be93866109ef565b52610a17565b90610174565b506101ce816109bd565b915f5b8281106101e657604051806101218682610925565b6001906001600160a01b036101fb82856109ef565b511661020782876109ef565b52016101d1565b5060058210610186565b34610139576040366003190112610139576001600160a01b036102396108f9565b165f525f602052602060018060a01b0360405f2054161515604051908152f35b34610139576020366003190112610139576102726108f9565b50602060405160018152f35b610967565b34610139575f36600319011261013957602060405160018152f35b346101395760403660031901126101395760206102b96108f9565b6102c161090f565b6001600160a01b039182165f90815280845260409081902054905190831691909216148152f35b34610139576020366003190112610139576103016108f9565b5f905b6001600160a01b031680151580610353575b15610348575f908152602081905260409020546001600160a01b03168015610304579061034290610a17565b90610304565b602082604051908152f35b50600a8210610316565b34610139576040366003190112610139576001600160a01b0361037e6108f9565b165f525f602052602060018060a01b0360405f205416604051908152f35b34610139576020366003190112610139576001600160a01b036103bd6108f9565b16805f52600260205260ff60405f2054166103d457005b5f818152600260205260408120805460ff191690555b60035490818110156104f1578261040082610a25565b905460039190911b1c6001600160a01b0316146104215760019150016103ea565b5f1982019182116104dd5761045361043b61047793610a25565b905460039190911b1c6001600160a01b031691610a25565b81546001600160a01b0393841660039290921b91821b9390911b1916919091179055565b60035480156104c9575f190161048c81610a25565b81546001600160a01b03600392831b1b1916909155555b7fdd4fdcea7474ec44ed60a0e33a8b3e1a80b4002026a6bc5b8e6e97bd883641335f80a2005b634e487b7160e01b5f52603160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b50506104a3565b34610139575f3660031901126101395760405180602060035491828152019060035f527fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b905f5b818110610562576101218561055681870382610983565b60405191829182610925565b82546001600160a01b031684526020909301926001928301920161053f565b34610139576060366003190112610139576105d261059d6108f9565b6105a561090f565b6001600160a01b039182165f90815260208190526040902080546001600160a01b03191691909216179055565b005b34610139576040366003190112610139576001600160a01b036105f56108f9565b165f52600160205260405f206040519081602082549182815201915f5260205f20905f5b818110610630576101218561055681870382610983565b82546001600160a01b0316845260209093019260019283019201610619565b34610139576020366003190112610139576106686108f9565b604051906101606106798184610983565b600a8352601f19013660208401375f905b6001600160a01b03169081151580610719575b156106ce5780826101b86106b193866109ef565b5f91825260208290526040909120546001600160a01b031661068a565b90506106d9816109bd565b915f5b8281106106f157604051806101218682610925565b6001906001600160a01b0361070682856109ef565b511661071282876109ef565b52016106dc565b50600a811061069d565b346101395760603660031901126101395760043567ffffffffffffffff811161013957366023820112156101395780600401359067ffffffffffffffff821161013957602490369260051b010111610139576105d261090f565b34610139576020366003190112610139576107966108f9565b6001600160a01b0381165f8181526002602052604090205490919060ff16156107bb57005b815f52600260205260405f20600160ff198254161790556003549068010000000000000000821015610125576104538260016107fa9401600355610a25565b7f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b75f80a2005b34610139576040366003190112610139576108396108f9565b60243590610846826109bd565b6001600160a01b039182165f908152602081905260408120549092165b6001600160a01b031691821515806108f0575b156108a75780836101b861088a93856109ef565b5f92835260208390526040909220546001600160a01b0316610863565b6108b0816109bd565b915f5b8281106108c857604051806101218682610925565b6001906001600160a01b036108dd82856109ef565b51166108e982876109ef565b52016108b3565b50838110610876565b600435906001600160a01b038216820361013957565b602435906001600160a01b038216820361013957565b60206040818301928281528451809452019201905f5b8181106109485750505090565b82516001600160a01b031684526020938401939092019160010161093b565b34610139576040366003190112610139576105d261059d6108f9565b90601f8019910116810190811067ffffffffffffffff82111761012557604052565b67ffffffffffffffff81116101255760051b60200190565b906109c7826109a5565b6109d46040519182610983565b82815280926109e5601f19916109a5565b0190602036910137565b8051821015610a035760209160051b010190565b634e487b7160e01b5f52603260045260245ffd5b5f1981146104dd5760010190565b600354811015610a035760035f5260205f2001905f9056fea2646970667358221220ff9aecd59378f49c71784ec8d19d7c4ad007bc36f319dab2b9b93b6cfab3058e64736f6c634300081a0033","sourceMap":"131:5319:43:-:0;;;;;;;621:1;131:5319;;594:18;131:5319;;;;;-1:-1:-1;;131:5319:43;627:4;131:5319;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x60806040526004361015610011575f80fd5b5f3560e01c80630a9b7ed5146108205780630b5c3f871461027e5780630f13b7631461077d578063622be01c146107235780636667864d1461064f57806366695b1e146105d457806369b15fce146105815780636e138c84146104f857806376bba3be1461039c57806377ccfd4b1461035d578063829d1535146102e857806393cec3e21461029e578063ba59475114610283578063bbddaca31461027e578063bfe609da14610259578063d65ad69414610218578063df65845a1461013d5763e96dc26a146100df575f80fd5b34610139576060366003190112610139576100f86108f9565b50604051610107602082610983565b5f8152610121905f36602083013760405191829182610925565b0390f35b634e487b7160e01b5f52604160045260245ffd5b5f80fd5b34610139576020366003190112610139576101566108f9565b6040519061016560c083610983565b6005825260a03660208401375f905b6001600160a01b03168015158061020e575b156101c4575f908152602081905260409020546001600160a01b03168015610174579080826101b86101be93866109ef565b52610a17565b90610174565b506101ce816109bd565b915f5b8281106101e657604051806101218682610925565b6001906001600160a01b036101fb82856109ef565b511661020782876109ef565b52016101d1565b5060058210610186565b34610139576040366003190112610139576001600160a01b036102396108f9565b165f525f602052602060018060a01b0360405f2054161515604051908152f35b34610139576020366003190112610139576102726108f9565b50602060405160018152f35b610967565b34610139575f36600319011261013957602060405160018152f35b346101395760403660031901126101395760206102b96108f9565b6102c161090f565b6001600160a01b039182165f90815280845260409081902054905190831691909216148152f35b34610139576020366003190112610139576103016108f9565b5f905b6001600160a01b031680151580610353575b15610348575f908152602081905260409020546001600160a01b03168015610304579061034290610a17565b90610304565b602082604051908152f35b50600a8210610316565b34610139576040366003190112610139576001600160a01b0361037e6108f9565b165f525f602052602060018060a01b0360405f205416604051908152f35b34610139576020366003190112610139576001600160a01b036103bd6108f9565b16805f52600260205260ff60405f2054166103d457005b5f818152600260205260408120805460ff191690555b60035490818110156104f1578261040082610a25565b905460039190911b1c6001600160a01b0316146104215760019150016103ea565b5f1982019182116104dd5761045361043b61047793610a25565b905460039190911b1c6001600160a01b031691610a25565b81546001600160a01b0393841660039290921b91821b9390911b1916919091179055565b60035480156104c9575f190161048c81610a25565b81546001600160a01b03600392831b1b1916909155555b7fdd4fdcea7474ec44ed60a0e33a8b3e1a80b4002026a6bc5b8e6e97bd883641335f80a2005b634e487b7160e01b5f52603160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b50506104a3565b34610139575f3660031901126101395760405180602060035491828152019060035f527fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b905f5b818110610562576101218561055681870382610983565b60405191829182610925565b82546001600160a01b031684526020909301926001928301920161053f565b34610139576060366003190112610139576105d261059d6108f9565b6105a561090f565b6001600160a01b039182165f90815260208190526040902080546001600160a01b03191691909216179055565b005b34610139576040366003190112610139576001600160a01b036105f56108f9565b165f52600160205260405f206040519081602082549182815201915f5260205f20905f5b818110610630576101218561055681870382610983565b82546001600160a01b0316845260209093019260019283019201610619565b34610139576020366003190112610139576106686108f9565b604051906101606106798184610983565b600a8352601f19013660208401375f905b6001600160a01b03169081151580610719575b156106ce5780826101b86106b193866109ef565b5f91825260208290526040909120546001600160a01b031661068a565b90506106d9816109bd565b915f5b8281106106f157604051806101218682610925565b6001906001600160a01b0361070682856109ef565b511661071282876109ef565b52016106dc565b50600a811061069d565b346101395760603660031901126101395760043567ffffffffffffffff811161013957366023820112156101395780600401359067ffffffffffffffff821161013957602490369260051b010111610139576105d261090f565b34610139576020366003190112610139576107966108f9565b6001600160a01b0381165f8181526002602052604090205490919060ff16156107bb57005b815f52600260205260405f20600160ff198254161790556003549068010000000000000000821015610125576104538260016107fa9401600355610a25565b7f5a7a3f71a35f5e2589980d29d1c6d8c75e39657751190874081e55208bae24b75f80a2005b34610139576040366003190112610139576108396108f9565b60243590610846826109bd565b6001600160a01b039182165f908152602081905260408120549092165b6001600160a01b031691821515806108f0575b156108a75780836101b861088a93856109ef565b5f92835260208390526040909220546001600160a01b0316610863565b6108b0816109bd565b915f5b8281106108c857604051806101218682610925565b6001906001600160a01b036108dd82856109ef565b51166108e982876109ef565b52016108b3565b50838110610876565b600435906001600160a01b038216820361013957565b602435906001600160a01b038216820361013957565b60206040818301928281528451809452019201905f5b8181106109485750505090565b82516001600160a01b031684526020938401939092019160010161093b565b34610139576040366003190112610139576105d261059d6108f9565b90601f8019910116810190811067ffffffffffffffff82111761012557604052565b67ffffffffffffffff81116101255760051b60200190565b906109c7826109a5565b6109d46040519182610983565b82815280926109e5601f19916109a5565b0190602036910137565b8051821015610a035760209160051b010190565b634e487b7160e01b5f52603260045260245ffd5b5f1981146104dd5760010190565b600354811015610a035760035f5260205f2001905f9056fea2646970667358221220ff9aecd59378f49c71784ec8d19d7c4ad007bc36f319dab2b9b93b6cfab3058e64736f6c634300081a0033","sourceMap":"131:5319:43:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;:::i;:::-;-1:-1:-1;131:5319:43;;;;;;:::i;:::-;;;;;;-1:-1:-1;131:5319:43;;;;;;;;;;;;:::i;:::-;;;;;;;;-1:-1:-1;131:5319:43;;;;;-1:-1:-1;131:5319:43;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;:::i;:::-;;;;;;;;:::i;:::-;1106:1;131:5319;;;;;;;;;1145:22;1178:218;-1:-1:-1;;;;;131:5319:43;1185:21;;;;:34;;1178:218;1185:34;;;131:5319;;;;;;;;;;;;-1:-1:-1;;;;;131:5319:43;1278:108;;1178:218;1278:108;1323:23;;;;1364:7;1323:23;;;:::i;:::-;131:5319;1364:7;:::i;:::-;1278:108;1178:218;;1185:34;;1461:20;;;:::i;:::-;1496:13;131:5319;1511:9;;;;;;131:5319;;;;;;;:::i;1522:3::-;131:5319;;-1:-1:-1;;;;;1558:9:43;131:5319;1558:9;;:::i;:::-;131:5319;;1541:26;;;;:::i;:::-;131:5319;;1496:13;;1185:34;1210:9;1106:1;1210:9;;1185:34;;131:5319;;;;;;-1:-1:-1;;131:5319:43;;;;-1:-1:-1;;;;;131:5319:43;;:::i;:::-;;;;;;;;;;;;;;;;;;3314:30;;131:5319;;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;:::i;:::-;;;;;5312:4;131:5319;;;;;:::i;:::-;;;;;;-1:-1:-1;;131:5319:43;;;;;;;230:42;131:5319;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;;:::i;:::-;;;:::i;:::-;-1:-1:-1;;;;;131:5319:43;;;;;;;;;;;;;;;;;;;;;;;;;3168:28;131:5319;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;:::i;:::-;;2819:22;2852:178;-1:-1:-1;;;;;131:5319:43;2859:21;;;;:35;;2852:178;2859:35;;;131:5319;;;;;;;;;;;;-1:-1:-1;;;;;131:5319:43;2953:67;;2852:178;2953:67;2998:7;;;;:::i;:::-;2953:67;2852:178;;2859:35;131:5319;2859:35;131:5319;;;;;;2859:35;2884:10;2892:2;2884:10;;2859:35;;131:5319;;;;;;-1:-1:-1;;131:5319:43;;;;-1:-1:-1;;;;;131:5319:43;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;-1:-1:-1;;;;;131:5319:43;;:::i;:::-;;;;;4661:18;131:5319;;;;;;;;4657:485;;131:5319;4657:485;131:5319;;;;4661:18;131:5319;;;;;;;-1:-1:-1;;131:5319:43;;;4806:3;4775:22;131:5319;4771:33;;;;;;;4833:25;;;;:::i;:::-;131:5319;;4775:22;131:5319;;;;;-1:-1:-1;;;;;131:5319:43;4833:35;4829:244;;131:5319;4806:3;;131:5319;4756:13;;4829:244;-1:-1:-1;;131:5319:43;;;;;;;4892:25;4920:57;4892:85;4920:57;;:::i;:::-;131:5319;;4775:22;131:5319;;;;;-1:-1:-1;;;;;131:5319:43;;4892:25;:::i;:::-;131:5319;;-1:-1:-1;;;;;131:5319:43;;;;;;;;;;;;;;;;;;;;;;;;4892:85;4775:22;131:5319;;;;;-1:-1:-1;;131:5319:43;;;;:::i;:::-;;;-1:-1:-1;;;;;4775:22:43;131:5319;;;;;;;;;;4751:336;5105:26;131:5319;5105:26;;131:5319;;;;;;;;;;;;;;;;;;;;;;;;;4771:33;;;;;131:5319;;;;;;-1:-1:-1;;131:5319:43;;;;;;;;5419:22;131:5319;;;;;;;5419:22;131:5319;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;131:5319:43;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;;:::i;:::-;;;:::i;:::-;-1:-1:-1;;;;;131:5319:43;;;2499:10;131:5319;;;;;;;;;;;;-1:-1:-1;;;;;;131:5319:43;;;;;;;;2427:106;131:5319;;;;;;;;-1:-1:-1;;131:5319:43;;;;-1:-1:-1;;;;;131:5319:43;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;131:5319:43;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;3527:2;131:5319;;-1:-1:-1;;131:5319:43;;;;;;;3568:22;3601:158;-1:-1:-1;;;;;131:5319:43;;3608:21;;;;:36;;3601:158;3608:36;;;3660:23;;;3697:8;3660:23;;;:::i;3697:8::-;131:5319;;;;;;;;;;;;;-1:-1:-1;;;;;131:5319:43;3601:158;;3608:36;;;3819:21;;;:::i;:::-;3855:13;131:5319;3870:10;;;;;;131:5319;;;;;;;:::i;3882:3::-;131:5319;;-1:-1:-1;;;;;3913:8:43;131:5319;3913:8;;:::i;:::-;131:5319;;3901:20;;;;:::i;:::-;131:5319;;3855:13;;3608:36;3633:11;3527:2;3633:11;;3608:36;;131:5319;;;;;;-1:-1:-1;;131:5319:43;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;-1:-1:-1;;131:5319:43;;;;;;:::i;:::-;-1:-1:-1;;;;;131:5319:43;;;;;;4405:18;131:5319;;;;;;;;;;;4404:27;4400:183;;131:5319;4400:183;131:5319;;;4405:18;131:5319;;;;;4476:4;131:5319;;;;;;;;4494:22;131:5319;;;;;;;;;;4476:4;131:5319;;;4494:22;131:5319;;:::i;:::-;4548:24;131:5319;4548:24;;131:5319;;;;;;;-1:-1:-1;;131:5319:43;;;;;;:::i;:::-;;;1754:24;;;;:::i;:::-;-1:-1:-1;;;;;131:5319:43;;;;;;;;;;;;;;;;;;1860:166;-1:-1:-1;;;;;131:5319:43;;1867:21;;;;:42;;1860:166;1867:42;;;1925:26;;;1965:7;1925:26;;;:::i;1965:7::-;131:5319;;;;;;;;;;;;;-1:-1:-1;;;;;131:5319:43;1860:166;;1867:42;2086:20;;;:::i;:::-;2121:13;131:5319;2136:9;;;;;;131:5319;;;;;;;:::i;2147:3::-;131:5319;;-1:-1:-1;;;;;2178:12:43;131:5319;2178:12;;:::i;:::-;131:5319;;2166:24;;;;:::i;:::-;131:5319;;2121:13;;1867:42;1892:17;;;;1867:42;;131:5319;;;;-1:-1:-1;;;;;131:5319:43;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;131:5319:43;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;;;;;131:5319:43;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;;;;:::i;:::-;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;131:5319:43;;;;;;;:::o;:::-;4494:22;131:5319;;;;;;4494:22;-1:-1:-1;131:5319:43;;-1:-1:-1;131:5319:43;;;-1:-1:-1;131:5319:43;:::o","linkReferences":{}},"methodIdentifiers":{"REFERRAL_ROOT()":"ba594751","addReferral(address,address)":"0b5c3f87","authorizeOracle(address)":"0f13b763","batchRegister(address[],address,bytes32)":"622be01c","getAncestors(address,bytes32,uint256)":"e96dc26a","getAncestors(address,uint256)":"0a9b7ed5","getAuthorizedOracles()":"6e138c84","getChildren(address,bytes32)":"66695b1e","getReferralChain(address)":"6667864d","getReferralDepth(address)":"829d1535","getReferrer(address,bytes32)":"77ccfd4b","getReferrers(address)":"df65845a","isAuthorizedOracle(address)":"bfe609da","isRegistered(address,bytes32)":"d65ad694","isValidReferral(address,address)":"93cec3e2","register(address,address,bytes32)":"69b15fce","setReferrer(address,address)":"bbddaca3","unauthorizeOracle(address)":"76bba3be"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AlreadyRegistered\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CycleDetected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidReferrer\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UnauthorizedOracle\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"OracleAuthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"OracleUnauthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"UserRegistered\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"REFERRAL_ROOT\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"addReferral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"authorizeOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"users\",\"type\":\"address[]\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"batchRegister\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"maxLevels\",\"type\":\"uint256\"}],\"name\":\"getAncestors\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"getAncestors\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAuthorizedOracles\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"getChildren\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getReferralChain\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getReferralDepth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"getReferrer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getReferrers\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"isAuthorizedOracle\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"isRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"isValidReferral\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"register\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"setReferrer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"}],\"name\":\"unauthorizeOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"authorizeOracle(address)\":{\"params\":{\"oracle\":\"The oracle address to authorize\"}},\"batchRegister(address[],address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"referrer\":\"The referrer for all users\",\"users\":\"Array of users to register\"}},\"getAuthorizedOracles()\":{\"returns\":{\"_0\":\"Array of authorized oracle addresses\"}},\"unauthorizeOracle(address)\":{\"params\":{\"oracle\":\"The oracle address to unauthorize\"}}},\"version\":1},\"userdoc\":{\"errors\":{\"AlreadyRegistered()\":[{\"notice\":\"Error when user is already registered\"}],\"CycleDetected()\":[{\"notice\":\"Error when trying to create a cycle in referral graph\"}],\"InvalidReferrer()\":[{\"notice\":\"Error when trying to register with invalid referrer\"}],\"UnauthorizedOracle()\":[{\"notice\":\"Error when caller is not an authorized oracle\"}]},\"events\":{\"OracleAuthorized(address)\":{\"notice\":\"Emitted when an oracle is authorized\"},\"OracleUnauthorized(address)\":{\"notice\":\"Emitted when an oracle is unauthorized\"},\"UserRegistered(address,address)\":{\"notice\":\"Emitted when a user registers with a referrer\"}},\"kind\":\"user\",\"methods\":{\"authorizeOracle(address)\":{\"notice\":\"Authorize an oracle to register referrals\"},\"batchRegister(address[],address,bytes32)\":{\"notice\":\"Batch register multiple users with the same referrer in a group\"},\"getAuthorizedOracles()\":{\"notice\":\"Get all authorized oracles\"},\"unauthorizeOracle(address)\":{\"notice\":\"Unauthorize an oracle\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"test/mocks/MockReferralGraph.sol\":\"MockReferralGraph\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"src/interfaces/IReferralGraph.sol\":{\"keccak256\":\"0x1117dc973c3d8651974fdd88c79241c8257dd2865954d5642979f87c63c89593\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4b9b430aa1a2b6c6c54398186443303d28e3436cbd508baca07b3f1dfc0781db\",\"dweb:/ipfs/QmeN2WJM2nHpXjCKz1s9Y6X57dn9pE8S3vNcgW5UFtdDw1\"]},\"test/mocks/MockReferralGraph.sol\":{\"keccak256\":\"0x88cb19a63621473e158b7a286cc4ed2cefa6c3ee92296b58c504f5ae6ed73e07\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8848054368c0ee2140f1472860ca8924abaf2213123ed1fd43b0f1ddc10510ac\",\"dweb:/ipfs/QmaB3f1CwZRUcQY2nFoFWw3HUjg2vvnS7g8BkgDpK1Ms1S\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AlreadyRegistered"},{"inputs":[],"type":"error","name":"CycleDetected"},{"inputs":[],"type":"error","name":"InvalidReferrer"},{"inputs":[],"type":"error","name":"UnauthorizedOracle"},{"inputs":[{"internalType":"address","name":"oracle","type":"address","indexed":true}],"type":"event","name":"OracleAuthorized","anonymous":false},{"inputs":[{"internalType":"address","name":"oracle","type":"address","indexed":true}],"type":"event","name":"OracleUnauthorized","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"referrer","type":"address","indexed":true}],"type":"event","name":"UserRegistered","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"REFERRAL_ROOT","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"addReferral"},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"authorizeOracle"},{"inputs":[{"internalType":"address[]","name":"users","type":"address[]"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"batchRegister"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"maxLevels","type":"uint256"}],"stateMutability":"view","type":"function","name":"getAncestors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function","name":"getAncestors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getAuthorizedOracles","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getChildren","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getReferralChain","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getReferralDepth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getReferrer","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getReferrers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function","name":"isAuthorizedOracle","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"view","type":"function","name":"isValidReferral","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"register"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setReferrer"},{"inputs":[{"internalType":"address","name":"oracle","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"unauthorizeOracle"}],"devdoc":{"kind":"dev","methods":{"authorizeOracle(address)":{"params":{"oracle":"The oracle address to authorize"}},"batchRegister(address[],address,bytes32)":{"params":{"groupId":"The group ID","referrer":"The referrer for all users","users":"Array of users to register"}},"getAuthorizedOracles()":{"returns":{"_0":"Array of authorized oracle addresses"}},"unauthorizeOracle(address)":{"params":{"oracle":"The oracle address to unauthorize"}}},"version":1},"userdoc":{"kind":"user","methods":{"authorizeOracle(address)":{"notice":"Authorize an oracle to register referrals"},"batchRegister(address[],address,bytes32)":{"notice":"Batch register multiple users with the same referrer in a group"},"getAuthorizedOracles()":{"notice":"Get all authorized oracles"},"unauthorizeOracle(address)":{"notice":"Unauthorize an oracle"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"test/mocks/MockReferralGraph.sol":"MockReferralGraph"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"src/interfaces/IReferralGraph.sol":{"keccak256":"0x1117dc973c3d8651974fdd88c79241c8257dd2865954d5642979f87c63c89593","urls":["bzz-raw://4b9b430aa1a2b6c6c54398186443303d28e3436cbd508baca07b3f1dfc0781db","dweb:/ipfs/QmeN2WJM2nHpXjCKz1s9Y6X57dn9pE8S3vNcgW5UFtdDw1"],"license":"MIT"},"test/mocks/MockReferralGraph.sol":{"keccak256":"0x88cb19a63621473e158b7a286cc4ed2cefa6c3ee92296b58c504f5ae6ed73e07","urls":["bzz-raw://8848054368c0ee2140f1472860ca8924abaf2213123ed1fd43b0f1ddc10510ac","dweb:/ipfs/QmaB3f1CwZRUcQY2nFoFWw3HUjg2vvnS7g8BkgDpK1Ms1S"],"license":"MIT"}},"version":1},"id":43}