{"abi":[{"type":"constructor","inputs":[{"name":"root","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"addReferral","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"allowReferrer","inputs":[{"name":"referrer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"batchRegister","inputs":[{"name":"users","type":"address[]","internalType":"address[]"},{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"disallowReferrer","inputs":[{"name":"referrer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAncestors","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"maxLevels","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getAncestors","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"},{"name":"maxLevels","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getChildren","inputs":[{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getReferralChain","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getReferralDepth","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getReferrer","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getReferrers","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"getRoot","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"isAllowedReferrer","inputs":[{"name":"referrer","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isAllowlistEnabled","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isRegistered","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isValidReferral","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"register","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"},{"name":"groupId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setAllowlistEnabled","inputs":[{"name":"enabled","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setReferrer","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"referrer","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"ReferrerAllowed","inputs":[{"name":"referrer","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"ReferrerDisallowed","inputs":[{"name":"referrer","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"UserRegistered","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"referrer","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"AlreadyRegistered","inputs":[]},{"type":"error","name":"CycleDetected","inputs":[]},{"type":"error","name":"InvalidReferrer","inputs":[]},{"type":"error","name":"ReferrerNotAllowed","inputs":[]}],"bytecode":{"object":"0x6080604052348015600e575f80fd5b50604051610ba5380380610ba5833981016040819052602b916055565b600380546001600160a01b0390921661010002610100600160a81b03199092169190911790556080565b5f602082840312156064575f80fd5b81516001600160a01b03811681146079575f80fd5b9392505050565b610b188061008d5f395ff3fe608060405234801561000f575f80fd5b506004361061011c575f3560e01c806377ccfd4b116100a9578063d146fd1b1161006e578063d146fd1b1461033c578063d65ad69414610347578063d7644ba214610375578063df65845a14610396578063e96dc26a146103a9575f80fd5b806377ccfd4b14610292578063829d1535146102be57806393cec3e2146102df578063bbddaca314610149578063bcd5addb1461030e575f80fd5b8063622be01c116100ef578063622be01c146101e15780636667864d146101f557806366695b1e1461020857806369b15fce1461021b5780636dfce94c14610257575f80fd5b80630a9b7ed5146101205780630b5c3f87146101495780631736c59e146101865780635ca1e165146101b7575b5f80fd5b61013361012e3660046108c2565b6103cc565b60405161014091906108ea565b60405180910390f35b610184610157366004610935565b6001600160a01b039182165f90815260208190526040902080546001600160a01b03191691909216179055565b005b610184610194366004610966565b6001600160a01b03165f908152600260205260409020805460ff19166001179055565b60035461010090046001600160a01b03165b6040516001600160a01b039091168152602001610140565b6101846101ef366004610986565b50505050565b610133610203366004610966565b61054f565b6101336102163660046108c2565b610698565b610184610229366004610a0d565b506001600160a01b039182165f90815260208190526040902080546001600160a01b03191691909216179055565b610282610265366004610966565b6001600160a01b03165f9081526002602052604090205460ff1690565b6040519015158152602001610140565b6101c96102a03660046108c2565b506001600160a01b039081165f908152602081905260409020541690565b6102d16102cc366004610966565b61070c565b604051908152602001610140565b6102826102ed366004610935565b6001600160a01b039182165f90815260208190526040902054821691161490565b61018461031c366004610966565b6001600160a01b03165f908152600260205260409020805460ff19169055565b60035460ff16610282565b6102826103553660046108c2565b506001600160a01b039081165f9081526020819052604090205416151590565b610184610383366004610a47565b6003805460ff1916911515919091179055565b6101336103a4366004610966565b610767565b6101336103b7366004610a66565b5050604080515f815260208101909152919050565b60605f8267ffffffffffffffff8111156103e8576103e8610a96565b604051908082528060200260200182016040528015610411578160200160208202803683370190505b506001600160a01b038086165f9081526020819052604081205492935091165b6001600160a01b0381161580159061044857508482105b156104a8578083838151811061046057610460610aaa565b6001600160a01b03909216602092830291909101909101528161048281610abe565b6001600160a01b039283165f908152602081905260409020549093509091169050610431565b5f8267ffffffffffffffff8111156104c2576104c2610a96565b6040519080825280602002602001820160405280156104eb578160200160208202803683370190505b5090505f5b838110156105445784818151811061050a5761050a610aaa565b602002602001015182828151811061052457610524610aaa565b6001600160a01b03909216602092830291909101909101526001016104f0565b509695505050505050565b60408051600a80825261016082019092526060915f919060208201610140803683370190505090505f835b6001600160a01b038116158015906105925750600a82105b156105f257808383815181106105aa576105aa610aaa565b6001600160a01b0390921660209283029190910190910152816105cc81610abe565b6001600160a01b039283165f90815260208190526040902054909350909116905061057a565b5f8267ffffffffffffffff81111561060c5761060c610a96565b604051908082528060200260200182016040528015610635578160200160208202803683370190505b5090505f5b8381101561068e5784818151811061065457610654610aaa565b602002602001015182828151811061066e5761066e610aaa565b6001600160a01b039092166020928302919091019091015260010161063a565b5095945050505050565b6001600160a01b0382165f908152600160209081526040918290208054835181840281018401909452808452606093928301828280156106ff57602002820191905f5260205f20905b81546001600160a01b031681526001909101906020018083116106e1575b5050505050905092915050565b5f80825b6001600160a01b038116158015906107285750600a82105b15610760576001600160a01b039081165f9081526020819052604090205416801561075b578161075781610abe565b9250505b610710565b5092915050565b60408051600580825260c082019092526060915f91906020820160a0803683370190505090505f835b6001600160a01b038116158015906107a85750600582105b1561080b576001600160a01b039081165f9081526020819052604090205416801561080657808383815181106107e0576107e0610aaa565b6001600160a01b03909216602092830291909101909101528161080281610abe565b9250505b610790565b5f8267ffffffffffffffff81111561082557610825610a96565b60405190808252806020026020018201604052801561084e578160200160208202803683370190505b5090505f5b8381101561068e5784818151811061086d5761086d610aaa565b602002602001015182828151811061088757610887610aaa565b6001600160a01b0390921660209283029190910190910152600101610853565b80356001600160a01b03811681146108bd575f80fd5b919050565b5f80604083850312156108d3575f80fd5b6108dc836108a7565b946020939093013593505050565b602080825282518282018190525f918401906040840190835b8181101561092a5783516001600160a01b0316835260209384019390920191600101610903565b509095945050505050565b5f8060408385031215610946575f80fd5b61094f836108a7565b915061095d602084016108a7565b90509250929050565b5f60208284031215610976575f80fd5b61097f826108a7565b9392505050565b5f805f8060608587031215610999575f80fd5b843567ffffffffffffffff8111156109af575f80fd5b8501601f810187136109bf575f80fd5b803567ffffffffffffffff8111156109d5575f80fd5b8760208260051b84010111156109e9575f80fd5b6020918201955093506109fd9086016108a7565b9396929550929360400135925050565b5f805f60608486031215610a1f575f80fd5b610a28846108a7565b9250610a36602085016108a7565b929592945050506040919091013590565b5f60208284031215610a57575f80fd5b8135801515811461097f575f80fd5b5f805f60608486031215610a78575f80fd5b610a81846108a7565b95602085013595506040909401359392505050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b5f60018201610adb57634e487b7160e01b5f52601160045260245ffd5b506001019056fea26469706673582212201745e64f0bbfcdf8392891b54ddb0c197d2f5226f13a7533b5532c93a865186d64736f6c634300081a0033","sourceMap":"131:4626:40:-:0;;;407:55;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;443:5;:12;;-1:-1:-1;;;;;443:12:40;;;;;-1:-1:-1;;;;;;443:12:40;;;;;;;;;131:4626;;14:290:41;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:41;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:41:o;:::-;131:4626:40;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b506004361061011c575f3560e01c806377ccfd4b116100a9578063d146fd1b1161006e578063d146fd1b1461033c578063d65ad69414610347578063d7644ba214610375578063df65845a14610396578063e96dc26a146103a9575f80fd5b806377ccfd4b14610292578063829d1535146102be57806393cec3e2146102df578063bbddaca314610149578063bcd5addb1461030e575f80fd5b8063622be01c116100ef578063622be01c146101e15780636667864d146101f557806366695b1e1461020857806369b15fce1461021b5780636dfce94c14610257575f80fd5b80630a9b7ed5146101205780630b5c3f87146101495780631736c59e146101865780635ca1e165146101b7575b5f80fd5b61013361012e3660046108c2565b6103cc565b60405161014091906108ea565b60405180910390f35b610184610157366004610935565b6001600160a01b039182165f90815260208190526040902080546001600160a01b03191691909216179055565b005b610184610194366004610966565b6001600160a01b03165f908152600260205260409020805460ff19166001179055565b60035461010090046001600160a01b03165b6040516001600160a01b039091168152602001610140565b6101846101ef366004610986565b50505050565b610133610203366004610966565b61054f565b6101336102163660046108c2565b610698565b610184610229366004610a0d565b506001600160a01b039182165f90815260208190526040902080546001600160a01b03191691909216179055565b610282610265366004610966565b6001600160a01b03165f9081526002602052604090205460ff1690565b6040519015158152602001610140565b6101c96102a03660046108c2565b506001600160a01b039081165f908152602081905260409020541690565b6102d16102cc366004610966565b61070c565b604051908152602001610140565b6102826102ed366004610935565b6001600160a01b039182165f90815260208190526040902054821691161490565b61018461031c366004610966565b6001600160a01b03165f908152600260205260409020805460ff19169055565b60035460ff16610282565b6102826103553660046108c2565b506001600160a01b039081165f9081526020819052604090205416151590565b610184610383366004610a47565b6003805460ff1916911515919091179055565b6101336103a4366004610966565b610767565b6101336103b7366004610a66565b5050604080515f815260208101909152919050565b60605f8267ffffffffffffffff8111156103e8576103e8610a96565b604051908082528060200260200182016040528015610411578160200160208202803683370190505b506001600160a01b038086165f9081526020819052604081205492935091165b6001600160a01b0381161580159061044857508482105b156104a8578083838151811061046057610460610aaa565b6001600160a01b03909216602092830291909101909101528161048281610abe565b6001600160a01b039283165f908152602081905260409020549093509091169050610431565b5f8267ffffffffffffffff8111156104c2576104c2610a96565b6040519080825280602002602001820160405280156104eb578160200160208202803683370190505b5090505f5b838110156105445784818151811061050a5761050a610aaa565b602002602001015182828151811061052457610524610aaa565b6001600160a01b03909216602092830291909101909101526001016104f0565b509695505050505050565b60408051600a80825261016082019092526060915f919060208201610140803683370190505090505f835b6001600160a01b038116158015906105925750600a82105b156105f257808383815181106105aa576105aa610aaa565b6001600160a01b0390921660209283029190910190910152816105cc81610abe565b6001600160a01b039283165f90815260208190526040902054909350909116905061057a565b5f8267ffffffffffffffff81111561060c5761060c610a96565b604051908082528060200260200182016040528015610635578160200160208202803683370190505b5090505f5b8381101561068e5784818151811061065457610654610aaa565b602002602001015182828151811061066e5761066e610aaa565b6001600160a01b039092166020928302919091019091015260010161063a565b5095945050505050565b6001600160a01b0382165f908152600160209081526040918290208054835181840281018401909452808452606093928301828280156106ff57602002820191905f5260205f20905b81546001600160a01b031681526001909101906020018083116106e1575b5050505050905092915050565b5f80825b6001600160a01b038116158015906107285750600a82105b15610760576001600160a01b039081165f9081526020819052604090205416801561075b578161075781610abe565b9250505b610710565b5092915050565b60408051600580825260c082019092526060915f91906020820160a0803683370190505090505f835b6001600160a01b038116158015906107a85750600582105b1561080b576001600160a01b039081165f9081526020819052604090205416801561080657808383815181106107e0576107e0610aaa565b6001600160a01b03909216602092830291909101909101528161080281610abe565b9250505b610790565b5f8267ffffffffffffffff81111561082557610825610a96565b60405190808252806020026020018201604052801561084e578160200160208202803683370190505b5090505f5b8381101561068e5784818151811061086d5761086d610aaa565b602002602001015182828151811061088757610887610aaa565b6001600160a01b0390921660209283029190910190910152600101610853565b80356001600160a01b03811681146108bd575f80fd5b919050565b5f80604083850312156108d3575f80fd5b6108dc836108a7565b946020939093013593505050565b602080825282518282018190525f918401906040840190835b8181101561092a5783516001600160a01b0316835260209384019390920191600101610903565b509095945050505050565b5f8060408385031215610946575f80fd5b61094f836108a7565b915061095d602084016108a7565b90509250929050565b5f60208284031215610976575f80fd5b61097f826108a7565b9392505050565b5f805f8060608587031215610999575f80fd5b843567ffffffffffffffff8111156109af575f80fd5b8501601f810187136109bf575f80fd5b803567ffffffffffffffff8111156109d5575f80fd5b8760208260051b84010111156109e9575f80fd5b6020918201955093506109fd9086016108a7565b9396929550929360400135925050565b5f805f60608486031215610a1f575f80fd5b610a28846108a7565b9250610a36602085016108a7565b929592945050506040919091013590565b5f60208284031215610a57575f80fd5b8135801515811461097f575f80fd5b5f805f60608486031215610a78575f80fd5b610a81846108a7565b95602085013595506040909401359392505050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b5f60018201610adb57634e487b7160e01b5f52601160045260245ffd5b506001019056fea26469706673582212201745e64f0bbfcdf8392891b54ddb0c197d2f5226f13a7533b5532c93a865186d64736f6c634300081a0033","sourceMap":"131:4626:40:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1437:612;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2239:106;;;;;;:::i;:::-;-1:-1:-1;;;;;2311:16:40;;;:10;:16;;;;;;;;;;:27;;-1:-1:-1;;;;;;2311:27:40;;;;;;;;2239:106;;;3326:101;;;;;;:::i;:::-;-1:-1:-1;;;;;3386:27:40;;;;;:17;:27;;;;;:34;;-1:-1:-1;;3386:34:40;3416:4;3386:34;;;3326:101;4675:80;4743:5;;;;;-1:-1:-1;;;;;4743:5:40;4675:80;;;-1:-1:-1;;;;;1759:32:41;;;1741:51;;1729:2;1714:18;4675:80:40;1595:203:41;4525:144:40;;;;;;:::i;:::-;;;;;;3752:565;;;;;;:::i;:::-;;:::i;2055:177::-;;;;;;:::i;:::-;;:::i;2351:157::-;;;;;;:::i;:::-;-1:-1:-1;;;;;;2437:16:40;;;:10;:16;;;;;;;;;;:27;;-1:-1:-1;;;;;;2437:27:40;;;;;;;;2351:157;3195:125;;;;;;:::i;:::-;-1:-1:-1;;;;;3286:27:40;3263:4;3286:27;;;:17;:27;;;;;;;;;3195:125;;;;3461:14:41;;3454:22;3436:41;;3424:2;3409:18;3195:125:40;3296:187:41;580:161:40;;;;;;:::i;:::-;-1:-1:-1;;;;;;681:16:40;;;655:7;681:16;;;;;;;;;;;;;580:161;2516:349;;;;;;:::i;:::-;;:::i;:::-;;;3634:25:41;;;3622:2;3607:18;2516:349:40;3488:177:41;2871:138:40;;;;;;:::i;:::-;-1:-1:-1;;;;;2974:16:40;;;2951:4;2974:16;;;;;;;;;;;;;:28;;;;2871:138;3433:105;;;;;;:::i;:::-;-1:-1:-1;;;;;3496:27:40;3526:5;3496:27;;;:17;:27;;;;;:35;;-1:-1:-1;;3496:35:40;;;3433:105;3646:100;3722:17;;;;3646:100;;3015:173;;;;;;:::i;:::-;-1:-1:-1;;;;;;3114:16:40;;;3091:4;3114:16;;;;;;;;;;;;:30;;;3015:173;3544:96;;;;;;:::i;:::-;3606:17;:27;;-1:-1:-1;;3606:27:40;;;;;;;;;;3544:96;748:683;;;;;;:::i;:::-;;:::i;4324:195::-;;;;;;:::i;:::-;-1:-1:-1;;4496:16:40;;;4510:1;4496:16;;;;;;;;;4489:23;-1:-1:-1;4324:195:40;1437:612;1515:16;1543:26;1586:9;1572:24;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1572:24:40;-1:-1:-1;;;;;;1651:16:40;;;1606:13;1651:16;;;;;;;;;;;1543:53;;-1:-1:-1;1606:13:40;1651:16;1678:166;-1:-1:-1;;;;;1685:21:40;;;;;;:42;;;1718:9;1710:5;:17;1685:42;1678:166;;;1762:7;1743:9;1753:5;1743:16;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1743:26:40;;;:16;;;;;;;;;;;:26;1783:7;;;;:::i;:::-;-1:-1:-1;;;;;1814:19:40;;;:10;:19;;;;;;;;;;;1783:7;;-1:-1:-1;1814:19:40;;;;-1:-1:-1;1678:166:40;;;1878:23;1918:5;1904:20;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1904:20:40;;1878:46;;1939:9;1934:85;1958:5;1954:1;:9;1934:85;;;1996:9;2006:1;1996:12;;;;;;;;:::i;:::-;;;;;;;1984:6;1991:1;1984:9;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1984:24:40;;;:9;;;;;;;;;;;:24;1965:3;;1934:85;;;-1:-1:-1;2036:6:40;1437:612;-1:-1:-1;;;;;;1437:612:40:o;3752:565::-;3868:17;;;3882:2;3868:17;;;;;;;;;3815:16;;3843:22;;3868:17;;;;;;;;;;;-1:-1:-1;;3843:42:40;-1:-1:-1;3895:14:40;3941:4;3956:158;-1:-1:-1;;;;;3963:21:40;;;;;;:36;;;3997:2;3988:6;:11;3963:36;3956:158;;;4031:7;4015:5;4021:6;4015:13;;;;;;;;:::i;:::-;-1:-1:-1;;;;;4015:23:40;;;:13;;;;;;;;;;;:23;4052:8;;;;:::i;:::-;-1:-1:-1;;;;;4084:19:40;;;:10;:19;;;;;;;;;;;4052:8;;-1:-1:-1;4084:19:40;;;;-1:-1:-1;3956:158:40;;;4148:23;4188:6;4174:21;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4174:21:40;;4148:47;;4210:9;4205:82;4229:6;4225:1;:10;4205:82;;;4268:5;4274:1;4268:8;;;;;;;;:::i;:::-;;;;;;;4256:6;4263:1;4256:9;;;;;;;;:::i;:::-;-1:-1:-1;;;;;4256:20:40;;;:9;;;;;;;;;;;:20;4237:3;;4205:82;;;-1:-1:-1;4304:6:40;3752:565;-1:-1:-1;;;;;3752:565:40:o;2055:177::-;-1:-1:-1;;;;;2169:19:40;;;;;;:9;:19;;;;;;;;;2162:26;;;;;;;;;;;;;;;;;2134:16;;2162:26;;;2169:19;2162:26;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2162:26:40;;;;;;;;;;;;;;;;;;;;;;;2055:177;;;;:::o;2516:349::-;2579:7;;2643:4;2658:178;-1:-1:-1;;;;;2665:21:40;;;;;;:35;;;2698:2;2690:5;:10;2665:35;2658:178;;;-1:-1:-1;;;;;2726:19:40;;;:10;:19;;;;;;;;;;;;2763:21;;2759:67;;2804:7;;;;:::i;:::-;;;;2759:67;2658:178;;;-1:-1:-1;2853:5:40;2516:349;-1:-1:-1;;2516:349:40:o;748:683::-;910:16;;;924:1;910:16;;;;;;;;;807;;884:23;;910:16;;;;;;;;;;;-1:-1:-1;;884:42:40;-1:-1:-1;936:13:40;981:4;996:218;-1:-1:-1;;;;;1003:21:40;;;;;;:34;;;1036:1;1028:5;:9;1003:34;996:218;;;-1:-1:-1;;;;;1063:19:40;;;:10;:19;;;;;;;;;;;;1100:21;;1096:108;;1157:7;1141:6;1148:5;1141:13;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1141:23:40;;;:13;;;;;;;;;;;:23;1182:7;;;;:::i;:::-;;;;1096:108;996:218;;;1248:28;1293:5;1279:20;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1279:20:40;;1248:51;;1314:9;1309:87;1333:5;1329:1;:9;1309:87;;;1376:6;1383:1;1376:9;;;;;;;;:::i;:::-;;;;;;;1359:11;1371:1;1359:14;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1359:26:40;;;:14;;;;;;;;;;;:26;1340:3;;1309:87;;14:173:41;82:20;;-1:-1:-1;;;;;131:31:41;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:300::-;260:6;268;321:2;309:9;300:7;296:23;292:32;289:52;;;337:1;334;327:12;289:52;360:29;379:9;360:29;:::i;:::-;350:39;458:2;443:18;;;;430:32;;-1:-1:-1;;;192:300:41:o;497:637::-;687:2;699:21;;;769:13;;672:18;;;791:22;;;639:4;;870:15;;;844:2;829:18;;;639:4;913:195;927:6;924:1;921:13;913:195;;;992:13;;-1:-1:-1;;;;;988:39:41;976:52;;1057:2;1083:15;;;;1048:12;;;;1024:1;942:9;913:195;;;-1:-1:-1;1125:3:41;;497:637;-1:-1:-1;;;;;497:637:41:o;1139:260::-;1207:6;1215;1268:2;1256:9;1247:7;1243:23;1239:32;1236:52;;;1284:1;1281;1274:12;1236:52;1307:29;1326:9;1307:29;:::i;:::-;1297:39;;1355:38;1389:2;1378:9;1374:18;1355:38;:::i;:::-;1345:48;;1139:260;;;;;:::o;1404:186::-;1463:6;1516:2;1504:9;1495:7;1491:23;1487:32;1484:52;;;1532:1;1529;1522:12;1484:52;1555:29;1574:9;1555:29;:::i;:::-;1545:39;1404:186;-1:-1:-1;;;1404:186:41:o;1803:804::-;1907:6;1915;1923;1931;1984:2;1972:9;1963:7;1959:23;1955:32;1952:52;;;2000:1;1997;1990:12;1952:52;2040:9;2027:23;2073:18;2065:6;2062:30;2059:50;;;2105:1;2102;2095:12;2059:50;2128:22;;2181:4;2173:13;;2169:27;-1:-1:-1;2159:55:41;;2210:1;2207;2200:12;2159:55;2250:2;2237:16;2276:18;2268:6;2265:30;2262:50;;;2308:1;2305;2298:12;2262:50;2363:7;2356:4;2346:6;2343:1;2339:14;2335:2;2331:23;2327:34;2324:47;2321:67;;;2384:1;2381;2374:12;2321:67;2415:4;2407:13;;;;-1:-1:-1;2439:6:41;-1:-1:-1;2464:40:41;;2483:20;;2464:40;:::i;:::-;1803:804;;;;-1:-1:-1;2454:50:41;;2573:2;2558:18;2545:32;;-1:-1:-1;;1803:804:41:o;2917:374::-;2994:6;3002;3010;3063:2;3051:9;3042:7;3038:23;3034:32;3031:52;;;3079:1;3076;3069:12;3031:52;3102:29;3121:9;3102:29;:::i;:::-;3092:39;;3150:38;3184:2;3173:9;3169:18;3150:38;:::i;:::-;2917:374;;3140:48;;-1:-1:-1;;;3257:2:41;3242:18;;;;3229:32;;2917:374::o;3670:273::-;3726:6;3779:2;3767:9;3758:7;3754:23;3750:32;3747:52;;;3795:1;3792;3785:12;3747:52;3834:9;3821:23;3887:5;3880:13;3873:21;3866:5;3863:32;3853:60;;3909:1;3906;3899:12;3948:420;4025:6;4033;4041;4094:2;4082:9;4073:7;4069:23;4065:32;4062:52;;;4110:1;4107;4100:12;4062:52;4133:29;4152:9;4133:29;:::i;:::-;4123:39;4231:2;4216:18;;4203:32;;-1:-1:-1;4332:2:41;4317:18;;;4304:32;;3948:420;-1:-1:-1;;;3948:420:41:o;4373:127::-;4434:10;4429:3;4425:20;4422:1;4415:31;4465:4;4462:1;4455:15;4489:4;4486:1;4479:15;4505:127;4566:10;4561:3;4557:20;4554:1;4547:31;4597:4;4594:1;4587:15;4621:4;4618:1;4611:15;4637:232;4676:3;4697:17;;;4694:140;;4756:10;4751:3;4747:20;4744:1;4737:31;4791:4;4788:1;4781:15;4819:4;4816:1;4809:15;4694:140;-1:-1:-1;4861:1:41;4850:13;;4637:232::o","linkReferences":{}},"methodIdentifiers":{"addReferral(address,address)":"0b5c3f87","allowReferrer(address)":"1736c59e","batchRegister(address[],address,bytes32)":"622be01c","disallowReferrer(address)":"bcd5addb","getAncestors(address,bytes32,uint256)":"e96dc26a","getAncestors(address,uint256)":"0a9b7ed5","getChildren(address,bytes32)":"66695b1e","getReferralChain(address)":"6667864d","getReferralDepth(address)":"829d1535","getReferrer(address,bytes32)":"77ccfd4b","getReferrers(address)":"df65845a","getRoot()":"5ca1e165","isAllowedReferrer(address)":"6dfce94c","isAllowlistEnabled()":"d146fd1b","isRegistered(address,bytes32)":"d65ad694","isValidReferral(address,address)":"93cec3e2","register(address,address,bytes32)":"69b15fce","setAllowlistEnabled(bool)":"d7644ba2","setReferrer(address,address)":"bbddaca3"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"root\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AlreadyRegistered\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CycleDetected\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidReferrer\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReferrerNotAllowed\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"ReferrerAllowed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"ReferrerDisallowed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"UserRegistered\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"addReferral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"allowReferrer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"users\",\"type\":\"address[]\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"batchRegister\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"disallowReferrer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"maxLevels\",\"type\":\"uint256\"}],\"name\":\"getAncestors\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"maxLevels\",\"type\":\"uint256\"}],\"name\":\"getAncestors\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"getChildren\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getReferralChain\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getReferralDepth\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"getReferrer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getReferrers\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRoot\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"isAllowedReferrer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isAllowlistEnabled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"isRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"isValidReferral\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"groupId\",\"type\":\"bytes32\"}],\"name\":\"register\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"enabled\",\"type\":\"bool\"}],\"name\":\"setAllowlistEnabled\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"referrer\",\"type\":\"address\"}],\"name\":\"setReferrer\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"allowReferrer(address)\":{\"params\":{\"referrer\":\"The referrer to allow\"}},\"batchRegister(address[],address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"referrer\":\"The referrer for all users\",\"users\":\"Array of users to register\"}},\"disallowReferrer(address)\":{\"params\":{\"referrer\":\"The referrer to disallow\"}},\"getAncestors(address,bytes32,uint256)\":{\"params\":{\"groupId\":\"The group ID\",\"maxLevels\":\"Maximum number of levels to traverse\",\"user\":\"The user to get ancestors for\"},\"returns\":{\"_0\":\"Array of ancestors, starting with immediate referrer\"}},\"getChildren(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"referrer\":\"The referrer to query\"},\"returns\":{\"_0\":\"Array of addresses that were referred by this referrer\"}},\"getReferrer(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"user\":\"The user to query\"},\"returns\":{\"_0\":\"The address of the referrer, or address(0) if not registered\"}},\"getRoot()\":{\"returns\":{\"_0\":\"The root address\"}},\"isAllowedReferrer(address)\":{\"params\":{\"referrer\":\"The address to check\"},\"returns\":{\"_0\":\"True if the address can be a referrer\"}},\"isAllowlistEnabled()\":{\"returns\":{\"_0\":\"True if allowlist is enabled\"}},\"isRegistered(address,bytes32)\":{\"params\":{\"groupId\":\"The group ID\",\"user\":\"The user to check\"},\"returns\":{\"_0\":\"True if the user has a referrer in the group\"}},\"register(address,address,bytes32)\":{\"details\":\"Groups are implicitly created when the first user registers. A user is in a group's referral tree if they have been referred or have referred others.\",\"params\":{\"groupId\":\"The group ID (group is auto-created on first registration)\",\"referrer\":\"The referrer address (must be in the group's referral tree, or address(0) for root registration)\",\"user\":\"The user being registered\"}},\"setAllowlistEnabled(bool)\":{\"params\":{\"enabled\":\"True to enable allowlist, false to disable\"}}},\"version\":1},\"userdoc\":{\"errors\":{\"AlreadyRegistered()\":[{\"notice\":\"Error when user is already registered\"}],\"CycleDetected()\":[{\"notice\":\"Error when trying to create a cycle in referral graph\"}],\"InvalidReferrer()\":[{\"notice\":\"Error when trying to register with invalid referrer\"}],\"ReferrerNotAllowed()\":[{\"notice\":\"Error when referrer is not in allowlist (if allowlist is enabled)\"}]},\"events\":{\"ReferrerAllowed(address)\":{\"notice\":\"Emitted when a referrer is added to the allowlist\"},\"ReferrerDisallowed(address)\":{\"notice\":\"Emitted when a referrer is removed from the allowlist\"},\"UserRegistered(address,address)\":{\"notice\":\"Emitted when a user registers with a referrer\"}},\"kind\":\"user\",\"methods\":{\"allowReferrer(address)\":{\"notice\":\"Add a referrer to the allowlist\"},\"batchRegister(address[],address,bytes32)\":{\"notice\":\"Batch register multiple users with the same referrer in a group\"},\"disallowReferrer(address)\":{\"notice\":\"Remove a referrer from the allowlist\"},\"getAncestors(address,bytes32,uint256)\":{\"notice\":\"Get the ancestor chain for a user in a group (from user up to root)\"},\"getChildren(address,bytes32)\":{\"notice\":\"Get the children of a referrer in a group\"},\"getReferrer(address,bytes32)\":{\"notice\":\"Get the referrer of a user in a group\"},\"getRoot()\":{\"notice\":\"Get the root address\"},\"isAllowedReferrer(address)\":{\"notice\":\"Check if an address is an allowed referrer\"},\"isAllowlistEnabled()\":{\"notice\":\"Check if the allowlist is enabled\"},\"isRegistered(address,bytes32)\":{\"notice\":\"Check if a user is registered in a group\"},\"register(address,address,bytes32)\":{\"notice\":\"Register a user with a referrer in a group\"},\"setAllowlistEnabled(bool)\":{\"notice\":\"Enable or disable the referrer allowlist\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"test/mocks/MockReferralGraph.sol\":\"MockReferralGraph\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"src/interfaces/IReferralGraph.sol\":{\"keccak256\":\"0xa5ba2f9adea90e6e67eba6c83939946616dcf9d1eb59effba87618f0ad853099\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d06976773e1245a8894a9de8b5a4213eb2bd66525bb567a4ea1cb6b4d116bcca\",\"dweb:/ipfs/QmZcDqfJQU4Lrjb9BqShdCfJAtHPfBppPQtG6XK4iqDzJT\"]},\"test/mocks/MockReferralGraph.sol\":{\"keccak256\":\"0x926a3a1e997732e9687218b11e81074cfca42ddb90d8b61a6a6121d19246311c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1e78eb5d060e303662381db1081802f3590a8e071d390f1900ff55422aa3a6c6\",\"dweb:/ipfs/Qmf6ZijpVZzSn3JdaH15AeaAUHCvj7NVAquuN7kubpqyrj\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"root","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"AlreadyRegistered"},{"inputs":[],"type":"error","name":"CycleDetected"},{"inputs":[],"type":"error","name":"InvalidReferrer"},{"inputs":[],"type":"error","name":"ReferrerNotAllowed"},{"inputs":[{"internalType":"address","name":"referrer","type":"address","indexed":true}],"type":"event","name":"ReferrerAllowed","anonymous":false},{"inputs":[{"internalType":"address","name":"referrer","type":"address","indexed":true}],"type":"event","name":"ReferrerDisallowed","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"referrer","type":"address","indexed":true}],"type":"event","name":"UserRegistered","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"addReferral"},{"inputs":[{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"allowReferrer"},{"inputs":[{"internalType":"address[]","name":"users","type":"address[]"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"batchRegister"},{"inputs":[{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"disallowReferrer"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"maxLevels","type":"uint256"}],"stateMutability":"view","type":"function","name":"getAncestors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"},{"internalType":"uint256","name":"maxLevels","type":"uint256"}],"stateMutability":"view","type":"function","name":"getAncestors","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getChildren","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getReferralChain","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getReferralDepth","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getReferrer","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getReferrers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getRoot","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"view","type":"function","name":"isAllowedReferrer","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isAllowlistEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"view","type":"function","name":"isValidReferral","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"},{"internalType":"bytes32","name":"groupId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"register"},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setAllowlistEnabled"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"referrer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setReferrer"}],"devdoc":{"kind":"dev","methods":{"allowReferrer(address)":{"params":{"referrer":"The referrer to allow"}},"batchRegister(address[],address,bytes32)":{"params":{"groupId":"The group ID","referrer":"The referrer for all users","users":"Array of users to register"}},"disallowReferrer(address)":{"params":{"referrer":"The referrer to disallow"}},"getAncestors(address,bytes32,uint256)":{"params":{"groupId":"The group ID","maxLevels":"Maximum number of levels to traverse","user":"The user to get ancestors for"},"returns":{"_0":"Array of ancestors, starting with immediate referrer"}},"getChildren(address,bytes32)":{"params":{"groupId":"The group ID","referrer":"The referrer to query"},"returns":{"_0":"Array of addresses that were referred by this referrer"}},"getReferrer(address,bytes32)":{"params":{"groupId":"The group ID","user":"The user to query"},"returns":{"_0":"The address of the referrer, or address(0) if not registered"}},"getRoot()":{"returns":{"_0":"The root address"}},"isAllowedReferrer(address)":{"params":{"referrer":"The address to check"},"returns":{"_0":"True if the address can be a referrer"}},"isAllowlistEnabled()":{"returns":{"_0":"True if allowlist is enabled"}},"isRegistered(address,bytes32)":{"params":{"groupId":"The group ID","user":"The user to check"},"returns":{"_0":"True if the user has a referrer in the group"}},"register(address,address,bytes32)":{"details":"Groups are implicitly created when the first user registers. A user is in a group's referral tree if they have been referred or have referred others.","params":{"groupId":"The group ID (group is auto-created on first registration)","referrer":"The referrer address (must be in the group's referral tree, or address(0) for root registration)","user":"The user being registered"}},"setAllowlistEnabled(bool)":{"params":{"enabled":"True to enable allowlist, false to disable"}}},"version":1},"userdoc":{"kind":"user","methods":{"allowReferrer(address)":{"notice":"Add a referrer to the allowlist"},"batchRegister(address[],address,bytes32)":{"notice":"Batch register multiple users with the same referrer in a group"},"disallowReferrer(address)":{"notice":"Remove a referrer from the allowlist"},"getAncestors(address,bytes32,uint256)":{"notice":"Get the ancestor chain for a user in a group (from user up to root)"},"getChildren(address,bytes32)":{"notice":"Get the children of a referrer in a group"},"getReferrer(address,bytes32)":{"notice":"Get the referrer of a user in a group"},"getRoot()":{"notice":"Get the root address"},"isAllowedReferrer(address)":{"notice":"Check if an address is an allowed referrer"},"isAllowlistEnabled()":{"notice":"Check if the allowlist is enabled"},"isRegistered(address,bytes32)":{"notice":"Check if a user is registered in a group"},"register(address,address,bytes32)":{"notice":"Register a user with a referrer in a group"},"setAllowlistEnabled(bool)":{"notice":"Enable or disable the referrer allowlist"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"test/mocks/MockReferralGraph.sol":"MockReferralGraph"},"evmVersion":"cancun","libraries":{}},"sources":{"src/interfaces/IReferralGraph.sol":{"keccak256":"0xa5ba2f9adea90e6e67eba6c83939946616dcf9d1eb59effba87618f0ad853099","urls":["bzz-raw://d06976773e1245a8894a9de8b5a4213eb2bd66525bb567a4ea1cb6b4d116bcca","dweb:/ipfs/QmZcDqfJQU4Lrjb9BqShdCfJAtHPfBppPQtG6XK4iqDzJT"],"license":"MIT"},"test/mocks/MockReferralGraph.sol":{"keccak256":"0x926a3a1e997732e9687218b11e81074cfca42ddb90d8b61a6a6121d19246311c","urls":["bzz-raw://1e78eb5d060e303662381db1081802f3590a8e071d390f1900ff55422aa3a6c6","dweb:/ipfs/Qmf6ZijpVZzSn3JdaH15AeaAUHCvj7NVAquuN7kubpqyrj"],"license":"MIT"}},"version":1},"id":40}